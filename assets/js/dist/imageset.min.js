!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(n=n||!1,e.complete&&void 0!==e.naturalWidth&&0!==e.naturalWidth)t();else{if(e.addEventListener("load",function e(){this.removeEventListener("load",e),t()}),n){var a=new Image;a.addEventListener("error",function(){n()}),a.src=e.src}}}},function(e,t){!function(t,n){var a=function(e,t){"use strict";if(!t.getElementsByClassName)return;var n,a,r=t.documentElement,i=e.Date,o=e.HTMLPictureElement,l=e.addEventListener,s=e.setTimeout,u=e.requestAnimationFrame||s,d=e.requestIdleCallback,c=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],g={},h=Array.prototype.forEach,m=function(e,t){return g[t]||(g[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),g[t].test(e.getAttribute("class")||"")&&g[t]},v=function(e,t){m(e,t)||e.setAttribute("class",(e.getAttribute("class")||"").trim()+" "+t)},p=function(e,t){var n;(n=m(e,t))&&e.setAttribute("class",(e.getAttribute("class")||"").replace(n," "))},b=function(e,t,n){var a=n?"addEventListener":"removeEventListener";n&&b(e,t),f.forEach(function(n){e[a](n,t)})},y=function(e,a,r,i,o){var l=t.createEvent("CustomEvent");return r||(r={}),r.instance=n,l.initCustomEvent(a,!i,!o,r),e.dispatchEvent(l),l},z=function(t,n){var r;!o&&(r=e.picturefill||a.pf)?r({reevaluate:!0,elements:[t]}):n&&n.src&&(t.src=n.src)},w=function(e,t){return(getComputedStyle(e,null)||{})[t]},E=function(e,t,n){for(n=n||e.offsetWidth;n<a.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},A=(L=[],O=[],P=L,N=function(){var e=P;for(P=L.length?O:L,M=!0,_=!1;e.length;)e.shift()();M=!1},S=function(e,n){M&&!n?e.apply(this,arguments):(P.push(e),_||(_=!0,(t.hidden?s:u)(N)))},S._lsFlush=N,S),C=function(e,t){return t?function(){A(e)}:function(){var t=this,n=arguments;A(function(){e.apply(t,n)})}},x=function(e){var t,n,a=function(){t=null,e()},r=function(){var e=i.now()-n;e<99?s(r,99-e):(d||a)(a)};return function(){n=i.now(),t||(t=s(r,99))}};var M,_,L,O,P,N,S;!function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:300};for(t in a=e.lazySizesConfig||e.lazysizesConfig||{},n)t in a||(a[t]=n[t]);e.lazySizesConfig=a,s(function(){a.init&&j()})}();var T=function(){var o,u,f,g,E,M,_,L,O,P,N,S,T,j,I,k,B,D,R,q,F=/^img$/i,H=/^iframe$/i,$="onscroll"in e&&!/glebot/.test(navigator.userAgent),G=0,J=0,K=-1,Q=function(e){J--,e&&e.target&&b(e.target,Q),(!e||J<0||!e.target)&&(J=0)},U=function(e,n){var a,i=e,o="hidden"==w(t.body,"visibility")||"hidden"!=w(e,"visibility");for(L-=n,N+=n,O-=n,P+=n;o&&(i=i.offsetParent)&&i!=t.body&&i!=r;)(o=(w(i,"opacity")||1)>0)&&"visible"!=w(i,"overflow")&&(a=i.getBoundingClientRect(),o=P>a.left&&O<a.right&&N>a.top-1&&L<a.bottom+1);return o},V=function(){var e,i,l,s,d,c,f,h,m,v=n.elements;if((g=a.loadMode)&&J<8&&(e=v.length)){i=0,K++,null==T&&("expand"in a||(a.expand=r.clientHeight>500&&r.clientWidth>500?500:370),S=a.expand,T=S*a.expFactor),G<T&&J<1&&K>2&&g>2&&!t.hidden?(G=T,K=0):G=g>1&&K>1&&J<6?S:0;for(;i<e;i++)if(v[i]&&!v[i]._lazyRace)if($)if((h=v[i].getAttribute("data-expand"))&&(c=1*h)||(c=G),m!==c&&(M=innerWidth+c*j,_=innerHeight+c,f=-1*c,m=c),l=v[i].getBoundingClientRect(),(N=l.bottom)>=f&&(L=l.top)<=_&&(P=l.right)>=f*j&&(O=l.left)<=M&&(N||P||O||L)&&(a.loadHidden||"hidden"!=w(v[i],"visibility"))&&(u&&J<3&&!h&&(g<3||K<4)||U(v[i],c))){if(ae(v[i]),d=!0,J>9)break}else!d&&u&&!s&&J<4&&K<4&&g>2&&(o[0]||a.preloadAfterLoad)&&(o[0]||!h&&(N||P||O||L||"auto"!=v[i].getAttribute(a.sizesAttr)))&&(s=o[0]||v[i]);else ae(v[i]);s&&!d&&ae(s)}},X=(I=V,B=0,D=a.ricTimeout,R=function(){k=!1,B=i.now(),I()},q=d&&a.ricTimeout?function(){d(R,{timeout:D}),D!==a.ricTimeout&&(D=a.ricTimeout)}:C(function(){s(R)},!0),function(e){var t;(e=!0===e)&&(D=33),k||(k=!0,(t=125-(i.now()-B))<0&&(t=0),e||t<9&&d?q():s(q,t))}),Y=function(e){v(e.target,a.loadedClass),p(e.target,a.loadingClass),b(e.target,ee),y(e.target,"lazyloaded")},Z=C(Y),ee=function(e){Z({target:e.target})},te=function(e){var t,n=e.getAttribute(a.srcsetAttr);(t=a.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},ne=C(function(e,t,n,r,i){var o,l,u,d,g,m;(g=y(e,"lazybeforeunveil",t)).defaultPrevented||(r&&(n?v(e,a.autosizesClass):e.setAttribute("sizes",r)),l=e.getAttribute(a.srcsetAttr),o=e.getAttribute(a.srcAttr),i&&(u=e.parentNode,d=u&&c.test(u.nodeName||"")),m=t.firesLoad||"src"in e&&(l||o||d),g={target:e},m&&(b(e,Q,!0),clearTimeout(f),f=s(Q,2500),v(e,a.loadingClass),b(e,ee,!0)),d&&h.call(u.getElementsByTagName("source"),te),l?e.setAttribute("srcset",l):o&&!d&&(H.test(e.nodeName)?function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}}(e,o):e.src=o),i&&(l||d)&&z(e,{src:o})),e._lazyRace&&delete e._lazyRace,p(e,a.lazyClass),A(function(){(!m||e.complete&&e.naturalWidth>1)&&(m?Q(g):J--,Y(g))},!0)}),ae=function(e){var t,n=F.test(e.nodeName),r=n&&(e.getAttribute(a.sizesAttr)||e.getAttribute("sizes")),i="auto"==r;(!i&&u||!n||!e.getAttribute("src")&&!e.srcset||e.complete||m(e,a.errorClass)||!m(e,a.lazyClass))&&(t=y(e,"lazyunveilread").detail,i&&W.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,J++,ne(e,t,i,r,n))},re=function(){if(!u)if(i.now()-E<999)s(re,999);else{var e=x(function(){a.loadMode=3,X()});u=!0,a.loadMode=3,X(),l("scroll",function(){3==a.loadMode&&(a.loadMode=2),e()},!0)}};return{_:function(){E=i.now(),n.elements=t.getElementsByClassName(a.lazyClass),o=t.getElementsByClassName(a.lazyClass+" "+a.preloadClass),j=a.hFac,l("scroll",X,!0),l("resize",X,!0),e.MutationObserver?new MutationObserver(X).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r.addEventListener("DOMNodeInserted",X,!0),r.addEventListener("DOMAttrModified",X,!0),setInterval(X,999)),l("hashchange",X,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t.addEventListener(e,X,!0)}),/d$|^c/.test(t.readyState)?re():(l("load",re),t.addEventListener("DOMContentLoaded",X),s(re,2e4)),n.elements.length?(V(),A._lsFlush()):X()},checkElems:X,unveil:ae}}(),W=(k=C(function(e,t,n,a){var r,i,o;if(e._lazysizesWidth=a,a+="px",e.setAttribute("sizes",a),c.test(t.nodeName||""))for(r=t.getElementsByTagName("source"),i=0,o=r.length;i<o;i++)r[i].setAttribute("sizes",a);n.detail.dataAttr||z(e,n.detail)}),B=function(e,t,n){var a,r=e.parentNode;r&&(n=E(e,r,n),(a=y(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=a.detail.width)&&n!==e._lazysizesWidth&&k(e,r,a,n))},D=x(function(){var e,t=I.length;if(t)for(e=0;e<t;e++)B(I[e])}),{_:function(){I=t.getElementsByClassName(a.autosizesClass),l("resize",D)},checkElems:D,updateElem:B}),j=function(){j.i||(j.i=!0,W._(),T._())};var I,k,B,D;return n={cfg:a,autoSizer:W,loader:T,init:j,uP:z,aC:v,rC:p,hC:m,fire:y,gW:E,rAF:A}}(t,t.document);t.lazySizes=a,"object"==typeof e&&e.exports&&(e.exports=a)}(window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=window.devicePixelRatio||1,a=t.webkitBackingStorePixelRatio||1,r=n/a;if(n!==a){var i=e.width,o=e.height;e.width=i*r,e.height=o*r,t.scale(r,r)}return r}},function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=c(n(0)),i=c(n(4)),o=c(n(5)),l=c(n(6));n(7),n(1);var s=c(n(8)),u=c(n(9)),d=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var f="is-placeholder-rendered",g="imageset-element",h="[object OperaMini]"===Object.prototype.toString.call(window.operamini),m={triangles:s.default,mosaic:u.default,blurred:(0,d.default)(15,512,17),lqip:(0,d.default)(7,512,15)},v=new RegExp("-placeholder:([a-z0-9_-]+)\\s*","i"),p=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrapper=t,this.image=this.wrapper.getElementsByClassName(g)[0],(0,r.default)(this.image,this.load.bind(this),this.error.bind(this));var a=this.getPlaceholderStyle();m[a]&&m[a](this,function(e){if(n.wrapper.classList.add(f),e){var t=n.getPlaceholderElement();e.setAttribute("aria-hidden","true"),e.className=t.className+" "+e.className,t.parentNode.replaceChild(e,t),n.placeholderElement=e}})}return a(e,[{key:"getWrapper",value:function(){return this.wrapper}},{key:"getPlaceholderStyle",value:function(){if(void 0===this.placeholderStyle){var e=this.wrapper.className.match(v);this.placeholderStyle=!!e&&e[1]}return this.placeholderStyle}},{key:"getPlaceholderElement",value:function(){return void 0===this.placeholderElement&&(this.placeholderElement=this.wrapper.querySelector(".imageset-placeholder")),this.placeholderElement}},{key:"isAlpha",value:function(){return this.wrapper.classList.contains("-alpha")}},{key:"load",value:function(){var e=this;(0,i.default)(function(){e.wrapper.classList.add("is-loaded")})}},{key:"error",value:function(){var e=this;(0,i.default)(function(){var t=document.createElement("span");t.classList.add("imageset-error");var n=e.image.getAttribute("alt");null!==n&&""!==n&&(t.setAttribute("aria-hidden","true"),t.appendChild(document.createTextNode(n))),e.wrapper.appendChild(t),(0,i.default)(function(){e.wrapper.classList.add("has-error")})})}}]),e}(),b=document.getElementsByClassName("imageset");var y=(0,l.default)(function(){for(var e,t=0,n=b.length;t<n&&(e=b[t]);t++)e._imageset||(e._imageset=new p(e))});if(h){window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.init=!1,document.documentElement.classList.add("operamini");var z=function(e){var t=e.getElementsByTagName("source"),n=e.getElementsByClassName(g)[0];if(addClass(e,"is-loaded"),window.HTMLPictureElement){for(var a=0,r=t.length;a<r;a++){var i=t[a];i.hasAttribute("data-srcset")&&i.setAttribute("srcset",i.getAttribute("data-srcset")),i.hasAttribute("data-src")&&i.setAttribute("src",i.getAttribute("data-src"))}n.hasAttribute("data-srcset")&&n.setAttribute("srcset",n.getAttribute("data-srcset")),n.hasAttribute("data-src")&&n.setAttribute("src",n.getAttribute("data-src"))}else{for(var o=(t.length>0?t[t.length-1]:n).getAttribute("data-srcset").split(/,\s+/);t.length>0;)t[0].parentNode.removeChild(t[0]);n.src=o.pop().replace(/\s+\d+[wx]$/,"")}};(0,o.default)(function(){for(var e=document.getElementsByClassName("imageset"),t=0,n=e.length;t<n;t++)z(e[t])})}else window.MutationObserver?new window.MutationObserver(y).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):(document.documentElement.addEventListener("DOMNodeInserted",y,!0),document.documentElement.addEventListener("DOMAttrModified",y,!0),setInterval(y,999),(0,o.default)(y)),window.addEventListener("hashchange",y,!0),y()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=window.requestAnimationFrame||function(e){setTimeout(e,1e3/60)};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;return function(){var a=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(a,r)},t)}}},function(e,t,n){!function(t,a){var r=function(){a(t.lazySizes),t.removeEventListener("lazyunveilread",r,!0)};a=a.bind(null,t,t.document),"object"==typeof e&&e.exports?a(n(1)):t.lazySizes?r():t.addEventListener("lazyunveilread",r,!0)}(window,function(e,t,n){"use strict";var a,r,i,o;e.addEventListener&&(a=n&&n.cfg||e.lazySizesConfig||{},r=a.lazyClass||"lazyload",i=function(){var e,a;if("string"==typeof r&&(r=t.getElementsByClassName(r)),n)for(e=0,a=r.length;e<a;e++)n.loader.unveil(r[e])},addEventListener("beforeprint",i,!1),!("onbeforeprint"in e)&&e.matchMedia&&(o=matchMedia("print"))&&o.addListener&&o.addListener(function(){o.matches&&i()}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=e.getPlaceholderElement();(0,r.default)(i,function(){var n=i.naturalWidth,r=i.naturalHeight,o=e.getWrapper().offsetWidth,l=Math.round(o/n*r),s=document.createElement("canvas"),u=s.getContext("2d"),d=e.isAlpha();s.width=o,s.height=l,!d&&"mozOpaque"in s&&(s.mozOpaque=!0),u.drawImage(i,0,0,o,l),function(e,t,n){n=!!n;var r=e.getContext("2d"),i=r.getImageData(0,0,e.width,e.height),o=i.data,l=i.width,s=i.height,u=l-1,d=s-1,c=Math.round(t*(Math.sqrt(3)/2)),f=c/2,g=t/2;(0,a.default)(e,r);var h,m,v,p,b,y,z,w,E,A,C,x,M,_,L,O,P,N=function(e,n,a,i){var o=e+((i=i||!1)?0:c);r.beginPath(),r.moveTo(o,n+0),r.lineTo(e+(i?c:0),n+g),r.lineTo(o,n+t),r.fill(),r.closePath()},S=function(e,t){var n=t*l*4+4*e;return[o[n],o[n+1],o[n+2],o[n+3]]},T=function(e,t){return o[t*l*4+4*e+3]},W=function(e){for(var t=0,n=0,a=e.length;n<a;n++)t+=T(e[n][0],e[n][1]);return t/a},j=function(e){return"rgb("+e.slice(0,3).join(",")+")"},I=function(e){return e[3]/=255,"rgba("+e.join(",")+")"},k=function(e){return Math.max(0,Math.min(Math.round(e),u))},B=function(e){return Math.max(0,Math.min(Math.round(e),d))},D=Math.ceil(l/c)+1,R=Math.ceil(s/t)+1;if(n){for(m=0;m<R;m++)for(y=B((p=m*t)+g),z=p-g,A=B(p),h=0;h<D;h++)_=h%2!=0,k(v=h*c),b=B(p),E=k(_?v+c-1:v),w=k(_?v:v+c-1),x=k(v+f),M=B(p+g),L=[[w,b],[E,M],[w,B(p+t-1)],[x,M],[x,M]],O=W(L)+.5|0,r.fillStyle=I([O,0,0,255]),r.fillRect(v,p,c,t),L=[[w,B(p-g)],[E,b],[w,B(p+g-1)],[x,b],[x,b]],O=W(L)+.5|0,r.fillStyle=I([O,0,0,255]),N(v,z,!1,_);var q=r.getImageData(0,0,e.width,e.height),F=q.data,H=F.length;for(P=0;P<H;P+=4)F[P+3]=F[P];r.putImageData(q,0,0),r.globalCompositeOperation="source-atop"}for(m=0;m<R;m++)for(y=B((p=m*t)+g),z=p-g,A=B(p),h=0;h<D;h++)C=k((v=h*c)+f),_=h%2!=0,r.fillStyle=j(S(C,y)),r.fillRect(v,p,c,t),r.fillStyle=j(S(C,A)),N(v,z,!1,_);n&&(r.globalCompositeOperation="source-over")}(s,40,d),t(s)},n)};var a=i(n(2)),r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=e.getPlaceholderElement();t=o&&!i?function(){n()}:function(){var e=document.createElement("canvas");e.getContext("2d")},(0,a.default)(l,t,r)};r(n(2));var a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var i=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),o="imageRendering"in document.documentElement.style||"msInterpolationMode"in document.documentElement.style},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},s=i.getPlaceholderElement();(0,a.default)(s,function(){var a=s.naturalWidth,l=s.naturalHeight,u=i.getWrapper().offsetWidth,d=u/a*l+.5|0,c=document.createElement("canvas"),f=c.getContext("2d"),g=i.isAlpha();c.width=u,c.height=d,!g&&"mozOpaque"in c&&(c.mozOpaque=!0),f.drawImage(s,0,0,u,d),r.default[g?"rgba":"rgb"](c,0,0,u,d,e,t,n),o(c)},l)}};var a=i(n(0)),r=i(n(11));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}Object.defineProperty(t,"__esModule",{value:!0}),t.default={rgba:function(e,t,n,r,i,o,l,s){var u=e.getContext("2d"),d=u.getImageData(t,n,r,i);d=function(e,t,n,r){var i,o,l,s,u,d,c,f,g,h,m,v,p,b,y,z,w,E,A,C,x,M,_,L,O,P=e.data,N=e.width,S=e.height,T=t+t+1,W=N-1,j=S-1,I=t+1,k=I*(I+1)/2,B=new a,D=B;for(l=1;l<T;l++)D=D.next=new a,l==I&&(O=D);D.next=B;var R=null,q=null;for(c=d=0,o=0;o<S;o++){for(z=w=E=A=f=g=h=m=0,v=I*(C=P[d]),p=I*(x=P[d+1]),b=I*(M=P[d+2]),y=I*(_=P[d+3]),f+=k*C,g+=k*x,h+=k*M,m+=k*_,D=B,l=0;l<I;l++)D.r=C,D.g=x,D.b=M,D.a=_,D=D.next;for(l=1;l<I;l++)s=d+((W<l?W:l)<<2),f+=(D.r=C=P[s])*(L=I-l),g+=(D.g=x=P[s+1])*L,h+=(D.b=M=P[s+2])*L,m+=(D.a=_=P[s+3])*L,z+=C,w+=x,E+=M,A+=_,D=D.next;for(R=B,q=O,i=0;i<N;i++)P[d]=f*n>>r,P[d+1]=g*n>>r,P[d+2]=h*n>>r,P[d+3]=m*n>>r,f-=v,g-=p,h-=b,m-=y,v-=R.r,p-=R.g,b-=R.b,y-=R.a,s=c+((s=i+t+1)<W?s:W)<<2,z+=R.r=P[s],w+=R.g=P[s+1],E+=R.b=P[s+2],A+=R.a=P[s+3],f+=z,g+=w,h+=E,m+=A,R=R.next,v+=C=q.r,p+=x=q.g,b+=M=q.b,y+=_=q.a,z-=C,w-=x,E-=M,A-=_,q=q.next,d+=4;c+=N}for(i=0;i<N;i++){for(w=E=A=z=g=h=m=f=0,v=I*(C=P[d=i<<2]),p=I*(x=P[d+1]),b=I*(M=P[d+2]),y=I*(_=P[d+3]),f+=k*C,g+=k*x,h+=k*M,m+=k*_,D=B,l=0;l<I;l++)D.r=C,D.g=x,D.b=M,D.a=_,D=D.next;for(u=N,l=1;l<=t;l++)d=u+i<<2,f+=(D.r=C=P[d])*(L=I-l),g+=(D.g=x=P[d+1])*L,h+=(D.b=M=P[d+2])*L,m+=(D.a=_=P[d+3])*L,z+=C,w+=x,E+=M,A+=_,D=D.next,l<j&&(u+=N);for(d=i,R=B,q=O,o=0;o<S;o++)P[3+(s=d<<2)]=_=m*n>>r,_>0?(_=255/_,P[s]=(f*n>>r)*_,P[s+1]=(g*n>>r)*_,P[s+2]=(h*n>>r)*_):P[s]=P[s+1]=P[s+2]=0,f-=v,g-=p,h-=b,m-=y,v-=R.r,p-=R.g,b-=R.b,y-=R.a,s=i+((s=o+I)<j?s:j)*N<<2,f+=z+=R.r=P[s],g+=w+=R.g=P[s+1],h+=E+=R.b=P[s+2],m+=A+=R.a=P[s+3],R=R.next,v+=C=q.r,p+=x=q.g,b+=M=q.b,y+=_=q.a,z-=C,w-=x,E-=M,A-=_,q=q.next,d+=N}return e}(d,o,l,s),u.putImageData(d,t,n)},rgb:function(e,t,n,r,i,o,l,s){var u,d,c,f,g,h,m,v,p,b,y,z,w,E,A,C,x,M,_,L,O,P=e.getContext("2d"),N=P.getImageData(t,n,r,i),S=N.data,T=o+o+1,W=r-1,j=i-1,I=o+1,k=I*(I+1)/2,B=new a,D=B;for(c=1;c<T;c++)D=D.next=new a,c==I&&(O=D);D.next=B;var R=null,q=null;for(m=h=0,d=0;d<i;d++){for(E=A=C=v=p=b=0,y=I*(x=S[h]),z=I*(M=S[h+1]),w=I*(_=S[h+2]),v+=k*x,p+=k*M,b+=k*_,D=B,c=0;c<I;c++)D.r=x,D.g=M,D.b=_,D=D.next;for(c=1;c<I;c++)f=h+((W<c?W:c)<<2),v+=(D.r=x=S[f])*(L=I-c),p+=(D.g=M=S[f+1])*L,b+=(D.b=_=S[f+2])*L,E+=x,A+=M,C+=_,D=D.next;for(R=B,q=O,u=0;u<r;u++)S[h]=v*l>>s,S[h+1]=p*l>>s,S[h+2]=b*l>>s,v-=y,p-=z,b-=w,y-=R.r,z-=R.g,w-=R.b,f=m+((f=u+o+1)<W?f:W)<<2,v+=E+=R.r=S[f],p+=A+=R.g=S[f+1],b+=C+=R.b=S[f+2],R=R.next,y+=x=q.r,z+=M=q.g,w+=_=q.b,E-=x,A-=M,C-=_,q=q.next,h+=4;m+=r}for(u=0;u<r;u++){for(A=C=E=p=b=v=0,y=I*(x=S[h=u<<2]),z=I*(M=S[h+1]),w=I*(_=S[h+2]),v+=k*x,p+=k*M,b+=k*_,D=B,c=0;c<I;c++)D.r=x,D.g=M,D.b=_,D=D.next;for(g=r,c=1;c<=o;c++)h=g+u<<2,v+=(D.r=x=S[h])*(L=I-c),p+=(D.g=M=S[h+1])*L,b+=(D.b=_=S[h+2])*L,E+=x,A+=M,C+=_,D=D.next,c<j&&(g+=r);for(h=u,R=B,q=O,d=0;d<i;d++)S[f=h<<2]=v*l>>s,S[f+1]=p*l>>s,S[f+2]=b*l>>s,v-=y,p-=z,b-=w,y-=R.r,z-=R.g,w-=R.b,f=u+((f=d+I)<j?f:j)*r<<2,v+=E+=R.r=S[f],p+=A+=R.g=S[f+1],b+=C+=R.b=S[f+2],R=R.next,y+=x=q.r,z+=M=q.g,w+=_=q.b,E-=x,A-=M,C-=_,q=q.next,h+=r}P.putImageData(N,t,n)}}}]);