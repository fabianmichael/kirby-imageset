{"version":3,"sources":["webpack:///webpack/bootstrap 3858ae55d33c82af0c30","webpack:///./assets/js/src/imageset.js","webpack:///./node_modules/lazysizes/lazysizes.js","webpack:///./node_modules/lazysizes/plugins/print/ls.print.js"],"names":["window","document","Math","Date","undefined","getElementsByClassName","prefix","__wrapperClass","__wrapperLazyloadClass","__wrapperLoadedClass","__wrapperErrorClass","__wrapperPlaceholderClass","__wrapperPlaceholderStyleClass","__wrapperAlphaClass","__wrapperPlaceholderRenderedClass","__wrapperPlaceholderErrorClass","__imageElementClass","__placeholderElementClass","__errorOverlayClass","__operaMiniClass","docElement","documentElement","ua","navigator","userAgent","rAF","requestAnimationFrame","fn","setTimeout","ready","readyState","addEventListener","extend","base","obj","i","hasOwnProperty","debounce","delay","timer","context","args","arguments","clearTimeout","apply","imageLoaded","img","success","failure","complete","naturalWidth","successCallback","removeEventListener","testImg","Image","src","RenderQueue","queue","inProgress","add","callback","push","run","loop","shift","length","hasClass","classList","el","cls","contains","className","split","indexOf","addClass","classes","join","removeClass","remove","tokens","index","splice","fixCanvasResolution","canvas","ctx","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","pixelRatio","oldWidth","width","oldHeight","height","scale","isOperaMini","Object","prototype","toString","call","operamini","lazySizesConfig","init","loadImageSetForOperaMini","wrapper","sources","getElementsByTagName","HTMLPictureElement","l","s","hasAttribute","srcset","getAttribute","fallbackSource","candidates","parentNode","removeChild","pop","replace","imagesets","placeholderRegexp","RegExp","getPlaceholderStyle","result","match","handlePlaceholderError","placeholderRenderer","CanvasRenderingContext2D","isSafari","supportsPixelatedImages","style","mosaic","createElement","getContext","source","process","naturalHeight","scaledWidth","offsetWidth","scaledHeight","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled","setAttribute","drawImage","replaceChild","applyPlaceholderBlur","radius","mul_sum","shg_sum","alpha","mozOpaque","stackBlur","blurred","lqip","triangleMosaicFilter","side","imageData","getImageData","pixels","data","imageDataWidth","imageDataHeight","xMax","yMax","round","sqrt","halfHeight","halfSide","drawTriangle","x","y","stroke","directionRight","xBase","beginPath","moveTo","lineTo","fill","closePath","pickColor","colorOffset","getAlpha","getAverageAlphaFromPoints","points","len","rgb","color","slice","rgba","sanitizeX","max","min","sanitizeY","stepX","xSteps","ceil","stepY","ySteps","posX","posY","sanitizedPosX","sanitizedPosY","rectColor","rectColorPosY","trianglePosY","triangleBaseX","triangleTipX","triangleColor","triangleColorPosY","triangleColorPosX","sanitizedTriangleCenterX","sanitizedTriangleCenterY","trianglePointsRight","averageAlpha","fillStyle","fillRect","alphaImageData","alphaData","alphaDataLength","putImageData","globalCompositeOperation","triangles","console","log","ImageSet","settings","imagesetConfig","autoUpdate","placeholderRendering","imagesetElements","_paused","checkImagesets","renderer","debouncedCheckImagesets","e","element","target","error","errorOverlay","alt","appendChild","createTextNode","MutationObserver","observe","childList","subtree","attributes","characterData","setInterval","update","imageset"],"mappings":"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,QAAJ,EAAf;;AAEAjO,SAAO2P,QAAP,GAAkBA,QAAlB;AAED,CA3tBA,EA2tBE3P,MA3tBF,EA2tBUC,QA3tBV,EA2tBoBC,IA3tBpB,EA2tB0BC,IA3tB1B;;AA6tBD;AACA;;AAEA;AACA,gC;;;;;;;;;;ACzvBA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,sCAAsC;;AAEtC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,iCAAiC;AAC9C,GAAG;AACH;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB;;AAElD;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA,SAAS,WAAW;;AAEpB,yDAAyD;;AAEzD,wBAAwB,gCAAgC;;AAExD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,2BAA2B,SAAS;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,uMAAuM;;AAEvM;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,uEAAuE,iDAAiD;AACxH,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;;;AAGF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,mDAAmD,mCAAmC;;AAEtF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,SAAS,SAAS;AAClB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACxrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,SAAS;AAC9C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,CAAC","file":"js/dist/imageset.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/plugins/imageset/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3858ae55d33c82af0c30","/*!\n * ImageSet (1.1.0-beta1)\n *\n * This script file is needed for lazyloading imagesets,\n * generated with ImageSet for Kirby and rendering placeholder\n * effeccts\n *\n * Copyright (c) 2016-2018 Fabian Michael <hallo@fabianmichael.de>\n * @license SEE LICENSE IN license.md\n *\n * This script also includes:\n *\n *   StackBlur 0.6\n *   Copyright (c) 2010 Mario Klingemann <mario@quasimondo.com>\n *   https://github.com/Quasimondo/QuasimondoJS\n *\n *   lazysizes 2.0.7 (with \"static-gecko-picture\" plugin)\n *   Copyright (C) 2015 Alexander Farkas, released under MIT license\n *   https://github.com/aFarkas/lazysizes\n * \n */\n\n//=include includes/stackblur.js\n\n;(function(window, document, Math, Date, undefined) {\n  'use strict';\n\n  if(!document.getElementsByClassName){ return; }  \n\n  /* =====  Configuration  ================================================== */\n\n  var prefix = 'imageset';\n\n  var __wrapperClass                    = 'imageset',\n      __wrapperLazyloadClass            = __wrapperClass + '  -lazyload',\n      __wrapperLoadedClass              = 'is-loaded',\n      __wrapperErrorClass               = 'has-error',\n      __wrapperPlaceholderClass         = __wrapperClass + ' -placeholder',\n      __wrapperPlaceholderStyleClass    = '-placeholder:',\n      __wrapperAlphaClass               = '-alpha',\n      __wrapperPlaceholderRenderedClass = 'is-placeholder-rendered',\n      __wrapperPlaceholderErrorClass    = 'has-placeholder-error',\n      __imageElementClass               = __wrapperClass + '-element',\n      __placeholderElementClass         = __wrapperClass + '-placeholder',\n      __errorOverlayClass               = 'imageset-error',\n      __operaMiniClass                  = 'operamini';\n\n  /* =====  Variable Shortcuts  ============================================= */\n\n  var docElement               = document.documentElement;\n\n  var ua                       = navigator.userAgent;\n\n  /* =====  Utilities & Helper Functions  =================================== */\n  \n  /* -----  Polyfills  ------------------------------------------------------ */\n      \n  // Shim layer with setTimeout fallback. Look only for unprefixed\n  // requestAnimationFrame, because all modern browsern already removed the\n  // prefix.\n  var rAF = window.requestAnimationFrame || function(fn) { setTimeout(fn, 1000/60); };\n\n  /* -----  Utilities  ------------------------------------------------------ */\n\n  function ready(fn) {\n    if(document.readyState != 'loading') {\n      fn();\n    } else {\n      document.addEventListener('DOMContentLoaded', fn);\n    }\n  }\n\n  // Extend an object with another one\n  function extend(base, obj) {\n    for(var i in obj) {\n      if(obj.hasOwnProperty(i)) {\n        base[i] = obj[i];\n      }\n    }\n    return base;\n  }\n\n  function debounce(fn, delay) {\n    var timer = null;\n    return function () {\n      var context = this, args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        fn.apply(context, args);\n      }, delay);\n    };\n  }\n\n  function imageLoaded(img, success, failure) {\n    failure = failure || false;\n\n    if(!img.complete || (typeof img.naturalWidth === \"undefined\") || img.naturalWidth === 0) {\n\n      var successCallback = function () {\n        this.removeEventListener('load', successCallback);\n        success();\n      };\n\n      img.addEventListener('load', successCallback);\n\n      if(!!failure) {\n        var testImg = new Image();\n        testImg.addEventListener('error', function() {\n          failure();\n        });\n        testImg.src = img.src;\n      }\n    } else {\n      success();\n    }\n  }\n\n  var RenderQueue = (function() {\n    var queue       = [],\n        inProgress  = false;\n\n    function add(callback) {\n      queue.push(callback);\n      run();\n    }\n\n    function loop() {\n      var callback = queue.shift();\n      callback();\n\n      if(!queue.length) {\n        inProgress = false;\n      } else {\n        rAF(loop);\n      }\n    }\n\n    function run() {\n      if(inProgress) return;\n      inProgress = true;\n      rAF(loop);\n    }\n\n    return {\n      add: add,\n    };\n  })();\n\n  // Class utilities using `classList` API if available.\n  // Fallbacks inspired by: https://gist.github.com/devongovett/1381839\n  var hasClass = (function() {\n    return docElement.classList ?\n      function(el, cls) { return el.classList.contains(cls); } :\n      function(el, cls) { return !!~el.className.split(/\\s+/).indexOf(cls); };\n  })();\n\n  var addClass = (function() {\n    return docElement.classList ?\n      function(el, cls) { el.classList.add(cls); } :\n      function(el, cls) {\n        var classes = el.className.split(/\\s+/);\n        if(!~classes.indexOf(cls)) {\n          classes.push(cls);\n          el.className = classes.join(\" \");\n        }\n      };\n  })();\n\n  var removeClass = (function() {\n    return docElement.classList ?\n      function(el, cls) { return el.classList.remove(cls); } :\n      function(el, cls) {\n        var tokens = el.className.split(/\\s+/),\n            index  = tokens.indexOf(cls);\n        if(!!~index) {\n          tokens.splice(index, 1);\n          el.className = tokens.join(\" \");\n        }\n      };\n  })();\n\n  function fixCanvasResolution(canvas, ctx) {\n    // Adjustments for HiDPI/Retina screens\n    var devicePixelRatio  = window.devicePixelRatio || 1,\n        backingStoreRatio = ctx.webkitBackingStorePixelRatio || 1, // Compatibility with (older?) Safari\n        pixelRatio        = devicePixelRatio / backingStoreRatio;\n\n    if(devicePixelRatio !== backingStoreRatio) {\n      var oldWidth        = canvas.width,\n          oldHeight       = canvas.height;\n      canvas.width        = oldWidth  * pixelRatio;\n      canvas.height       = oldHeight * pixelRatio;\n      //canvas.style.width  = oldWidth  + 'px';\n      //canvas.style.height = oldHeight + 'px';\n      ctx.scale(pixelRatio, pixelRatio);\n    }\n\n    return pixelRatio;\n  }\n\n\n  /* =====  ImageSets & Placeholders  ======================================= */\n\n  /* -----  Special Initialization for Opera Mini  -------------------------- */\n\n  var isOperaMini = (Object.prototype.toString.call(window.operamini) === \"[object OperaMini]\");\n\n  if(isOperaMini) {\n    // Opera Mini has limited DOM Event support and does not\n    // work with lazysizes. So we shortcut the loading process\n    // of lazy-loading and disable lazysizes.\n    window.lazySizesConfig      = window.lazySizesConfig || {};\n    window.lazySizesConfig.init = false;\n\n    addClass(docElement, __operaMiniClass);\n\n    var loadImageSetForOperaMini = function(wrapper) {\n        \n      var sources = wrapper.getElementsByTagName(\"source\"),\n          img     = wrapper.getElementsByClassName(__imageElementClass)[0];\n    \n      // Wrapper should be loaded to trigger css hook like\n      // on other browsers.\n      addClass(wrapper, __wrapperLoadedClass);\n\n      if(window.HTMLPictureElement) {\n        // As of December 2016, Opera Mini does not support\n        // the picture element. However, we consider this\n        // here for possible implementations in the future.\n        for(var i = 0, l = sources.length; i < l; i++) {\n          var s = sources[i];\n          if(s.hasAttribute('data-srcset')) s.srcset = s.getAttribute('data-srcset');\n          if(s.hasAttribute('data-src'))    s.src    = s.getAttribute('data-src');\n        }\n\n        if(img.hasAttribute('data-srcset')) img.srcset = img.getAttribute('data-srcset');\n        if(img.hasAttribute('data-src'))    img.src    = img.getAttribute('data-src');\n\n      } else {\n        \n        var fallbackSource = sources.length > 0 ? sources[sources.length - 1] : img,\n            candidates     = fallbackSource.getAttribute('data-srcset').split(/,\\s+/);\n\n        while(sources.length > 0) {\n          // Delete sources elements \n          sources[0].parentNode.removeChild(sources[0]);\n        }\n\n        img.src = candidates.pop().replace(/\\s+\\d+[wx]$/, '');\n      }\n    };\n\n    ready(function() {\n      var imagesets = document.getElementsByClassName(__wrapperClass);\n      for(var i = 0, l = imagesets.length; i < l; i++) {\n        loadImageSetForOperaMini(imagesets[i]);\n      }\n    });\n\n\n    return; // Abort Initialization here\n  }\n\n  /* ===== Regular Initialization  ========================================== */\n\n  /* ----- Global Variables Setup  ------------------------------------------ */\n \n  /* 路路路路路  ImageSet-specific Helper functions  路路路路路路路路路路路路路路路路路路路路路路路路路路路路路 */\n\n  var placeholderRegexp = new RegExp(__wrapperPlaceholderStyleClass + '([a-z0-9_-]+)\\\\s*', 'i');\n\n  function getPlaceholderStyle(wrapper) {\n    var result = wrapper.className.match(placeholderRegexp);\n    return result ? result[1] : false;\n  }\n\n  function handlePlaceholderError(wrapper) {\n    addClass(wrapper, __wrapperPlaceholderErrorClass);\n  }\n\n\n\n  /* -----  Placeholder Render Functions  ----------------------------------- */\n  \n  var placeholderRenderer = {};\n\n  if(!!window.CanvasRenderingContext2D) {\n    // only register placeholder rendering functions, if\n    // canvas is supported by the browser.\n\n    /* 路路路  Mosaic  路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路 */\n\n    var isSafari                    = (ua.indexOf(\"Safari\") !== -1 && ua.indexOf(\"Chrome\") === -1);\n    var supportsPixelatedImages     = ('imageRendering' in docElement.style || 'msInterpolationMode' in docElement.style);\n\n    if(!supportsPixelatedImages ||isSafari) {\n\n      placeholderRenderer.mosaic = function(wrapper) {\n\n        var canvas      = document.createElement(\"canvas\"),\n            ctx         = canvas.getContext(\"2d\"),\n            source      = wrapper.getElementsByClassName(__placeholderElementClass)[0];\n\n        var process = function() {\n\n          fixCanvasResolution(canvas, ctx);\n\n          var width        = source.naturalWidth,\n              height       = source.naturalHeight,\n              scaledWidth  = wrapper.offsetWidth,\n              scaledHeight = (wrapper.offsetWidth / width * height + 0.5) | 0;\n\n          canvas.width  = scaledWidth;\n          canvas.height = scaledHeight;\n\n          ctx.mozImageSmoothingEnabled = false;\n          ctx.webkitImageSmoothingEnabled = false;\n          ctx.msImageSmoothingEnabled = false;\n          ctx.imageSmoothingEnabled = false;\n          \n          canvas.setAttribute(\"aria-hidden\", true);\n          canvas.className = source.className;\n          \n          ctx.drawImage(source, 0, 0, scaledWidth, scaledHeight);\n          source.parentNode.replaceChild(canvas, source);\n          addClass(wrapper, __wrapperPlaceholderRenderedClass);\n        };\n\n        return function() {\n          imageLoaded(source, process, function() { handlePlaceholderError(wrapper); });\n        };\n      };\n    }\n\n    /* 路路路  Blurred & LQIP  路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路 */\n\n    var applyPlaceholderBlur = function(wrapper, radius, mul_sum, shg_sum) {\n\n      var source = wrapper.getElementsByClassName(__placeholderElementClass)[0];\n\n      var process = function() {\n        var width        = source.naturalWidth,\n            height       = source.naturalHeight,\n            scaledWidth  = wrapper.offsetWidth,\n            scaledHeight = (wrapper.offsetWidth / width * height + 0.5) | 0,\n            \n            canvas       = document.createElement(\"canvas\"),\n            ctx          = canvas.getContext(\"2d\"),\n            alpha        = hasClass(el, __wrapperAlphaClass);\n\n        canvas.width  = scaledWidth;\n        canvas.height = scaledHeight;\n\n        if(!alpha && 'mozOpaque' in canvas) {\n          canvas.mozOpaque = true;\n        }\n        \n        canvas.setAttribute(\"aria-hidden\", true);\n        canvas.className = source.className;\n        \n        ctx.drawImage(source, 0, 0, scaledWidth, scaledHeight);\n        stackBlur[alpha ? 'canvasRGBA' : 'canvasRGB'](canvas, 0, 0, scaledWidth, scaledHeight, radius, mul_sum, shg_sum);\n        source.parentNode.replaceChild(canvas, source);\n        addClass(wrapper, __wrapperPlaceholderRenderedClass);\n      };\n\n      return function() {\n        imageLoaded(source, process, function() { handlePlaceholderError(wrapper); });\n      };\n\n    };\n\n    placeholderRenderer.blurred = function(el) {\n      return applyPlaceholderBlur(el, 15, 512, 17);\n    };\n    \n    placeholderRenderer.lqip = function(el) {\n      return applyPlaceholderBlur(el, 7, 512, 15);\n    };\n\n    /* 路路路  Triangles  路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路路 */\n\n    var triangleMosaicFilter = function(canvas, side, alpha) {\n        \n      alpha = !!alpha;\n\n      // Canvas Properties\n      var ctx             = canvas.getContext('2d'),\n          imageData       = ctx.getImageData(0, 0, canvas.width, canvas.height),\n          pixels          = imageData.data,\n          imageDataWidth  = imageData.width,\n          imageDataHeight = imageData.height,\n          xMax            = imageDataWidth  - 1,\n          yMax            = imageDataHeight - 1;\n          \n      // Triangle Properties\n      var height         = Math.round(side * (Math.sqrt(3)/2)), // Triangle height ((side * Math.sqrt(3) / 2) + 0.5) | 0, // \n          halfHeight     = height / 2,\n          halfSide       = side   / 2;   \n\n      //Update canvas if needed (HiDPI/Retina screens)\n      fixCanvasResolution(canvas, ctx);\n      \n      // Utility functions\n      var drawTriangle  = function(x, y, stroke, directionRight) {\n        directionRight = directionRight || false;\n        var xBase = x + (directionRight ? 0 : height);\n        ctx.beginPath();\n        ctx.moveTo(xBase, y + 0);\n        ctx.lineTo(x + (directionRight ? height : 0),  y + halfSide);\n        ctx.lineTo(xBase, y + side);\n        ctx.fill();\n        ctx.closePath();\n      };\n\n      // Utility functions\n      var pickColor = function(x, y) {\n        var colorOffset = y * imageDataWidth * 4 + x * 4;\n        return [\n          // Our dear friend IE does not support `slice()` on typed arrays,\n          // falling back to doing it the hard way \n          pixels[colorOffset],\n          pixels[colorOffset + 1],\n          pixels[colorOffset + 2],\n          pixels[colorOffset + 3],\n        ];\n      };\n\n      var getAlpha = function(x, y) {\n        return pixels[y * imageDataWidth * 4 + x * 4 + 3];\n      };\n\n      var getAverageAlphaFromPoints = function(points) {\n        var alpha = 0, i = 0, len = points.length;\n        for(; i < len; i++) alpha += getAlpha(points[i][0], points[i][1]);\n        return alpha / len;\n      };\n\n      var rgb = function(color) {\n        return \"rgb(\" + color.slice(0, 3).join(\",\") + \")\";\n      };\n      \n      var rgba = function(color) {\n        color[3] /= 255;\n        return \"rgba(\" + color.join(\",\") + \")\";\n      };\n      \n      var sanitizeX = function(x) {\n        return Math.max(0, Math.min(Math.round(x), xMax));\n        // return Math.max(0, Math.min((x + 0.5) | 0, xMax));\n      };\n      \n      var sanitizeY = function(y) {\n        return Math.max(0, Math.min(Math.round(y), yMax));\n        // return Math.max(0, Math.min((y + 0.5) | 0, yMax));\n      };\n\n      var stepX, xSteps = Math.ceil(imageDataWidth  / height) + 1, // make sure, that canvas is\n          stepY, ySteps = Math.ceil(imageDataHeight / side)   + 1, // completely filled.\n          posX, posY, sanitizedPosX, sanitizedPosY,\n          rectColor,\n          rectColorPosY,\n          trianglePosY,\n          triangleBaseX,\n          triangleTipX,\n          triangleColor,\n          triangleColorPosY,\n          triangleColorPosX,\n          sanitizedTriangleCenterX,\n          sanitizedTriangleCenterY,\n          trianglePointsRight,\n          points,\n          averageAlpha,\n          i;\n\n      if(alpha) {\n        // Generate Alpha Mask\n        for(stepY = 0; stepY < ySteps; stepY++) {\n          posY               = stepY * side;\n          rectColorPosY      = sanitizeY(posY + halfSide);\n          trianglePosY       = posY - halfSide;\n          triangleColorPosY  = sanitizeY(posY);   \n          \n          for(stepX = 0; stepX < xSteps; stepX++) {\n            posX = stepX * height;\n            trianglePointsRight = stepX % 2 !== 0;\n            sanitizedPosX       = sanitizeX(posX);\n            sanitizedPosY       = sanitizeY(posY);\n            \n            // Get average alpha for rect and draw it\n            triangleTipX             = sanitizeX(trianglePointsRight ? posX + height - 1 : posX);\n            triangleBaseX            = sanitizeX(trianglePointsRight ? posX : posX + height - 1);\n            sanitizedTriangleCenterX = sanitizeX(posX + halfHeight);\n            sanitizedTriangleCenterY = sanitizeY(posY + halfSide);\n\n            // For calculating alpha transparency, were using\n            // the average color of the area covered by\n            // triangles and rects. Although its slower than\n            // picking the color value of a single pixel,\n            // results are way better.\n            points = [\n              [ triangleBaseX            , sanitizedPosY              ],\n              [ triangleTipX             , sanitizedTriangleCenterY   ],\n              [ triangleBaseX            , sanitizeY(posY + side - 1) ],\n              [ sanitizedTriangleCenterX , sanitizedTriangleCenterY   ],\n              [ sanitizedTriangleCenterX , sanitizedTriangleCenterY   ],\n            ];\n\n            averageAlpha  = (getAverageAlphaFromPoints(points) + 0.5) | 0;\n            ctx.fillStyle = rgba([averageAlpha, 0, 0, 255]);\n            ctx.fillRect(posX, posY, height, side);\n\n            // Get average alpha for triangle and draw it\n            points = [\n              [ triangleBaseX            , sanitizeY(posY - halfSide)     ],\n              [ triangleTipX             , sanitizedPosY                  ],\n              [ triangleBaseX            , sanitizeY(posY + halfSide - 1) ],\n              [ sanitizedTriangleCenterX , sanitizedPosY                  ],\n              [ sanitizedTriangleCenterX , sanitizedPosY                  ],\n            ];\n\n            averageAlpha  = (getAverageAlphaFromPoints(points) + 0.5) | 0;\n            ctx.fillStyle = rgba([averageAlpha, 0, 0, 255]);\n            drawTriangle(posX, trianglePosY, false, trianglePointsRight);\n          }\n        }\n\n        // Move red channel to alpha channel\n        var alphaImageData  = ctx.getImageData(0, 0, canvas.width, canvas.height),\n            alphaData       = alphaImageData.data,\n            alphaDataLength = alphaData.length;\n\n        for(i = 0; i < alphaDataLength; i += 4) {\n          alphaData[i + 3] = alphaData[i];\n        }\n\n        ctx.putImageData(alphaImageData, 0, 0);\n\n        // Causes new pixels to be drawn only where the\n        // \n        ctx.globalCompositeOperation = \"source-atop\";\n      }\n\n      // Draw the final triangle mosaic\n      for(stepY = 0; stepY < ySteps; stepY++) {\n        posY               = stepY * side;\n        rectColorPosY      = sanitizeY(posY + halfSide);\n        trianglePosY       = posY - halfSide;\n        triangleColorPosY  = sanitizeY(posY);   \n        for(stepX = 0; stepX < xSteps; stepX++) {\n          // Its faster and produces better looking results,\n          // i.e. eliminates artifacts at the edges of triangles\n          // when drawing a rect first and then draw a\n          // triangle that if shifted upwards by half of its\n          // height.\n          posX                = stepX * height;\n          triangleColorPosX   = sanitizeX(posX + halfHeight);\n          trianglePointsRight = (stepX % 2 !== 0);\n\n          // For the final layer, only one color is picked\n          // for the rect and the triangle. This is way faster\n          // than the method used to calculate the alpha mask,\n          // but results are sufficient for a decent quality\n          // of the result.\n          ctx.fillStyle = rgb(pickColor(triangleColorPosX, rectColorPosY));\n          ctx.fillRect(posX, posY, height, side);\n          \n          ctx.fillStyle = rgb(pickColor(triangleColorPosX, triangleColorPosY));\n          drawTriangle(posX, trianglePosY, false, trianglePointsRight);\n        }\n      }\n\n      if(alpha) {\n        // Reset composite operation, in case that other\n        // scripts want to manipulate the canvas further.\n        ctx.globalCompositeOperation = \"source-over\";\n      }\n    };\n\n    placeholderRenderer.triangles = function(wrapper) {\n\n      var source   = wrapper.getElementsByClassName(__placeholderElementClass)[0];\n\n      var process = function() {\n        var width        = source.naturalWidth,\n            height       = source.naturalHeight,\n            scaledWidth  = wrapper.offsetWidth,\n            scaledHeight = Math.round(wrapper.offsetWidth / width * height), // (scaledWidth / width * height + 0.5) | 0, // faster Math.round() hack // same as: \n            canvas       = document.createElement(\"canvas\"),\n            ctx          = canvas.getContext(\"2d\"),\n            alpha        = hasClass(wrapper, __wrapperAlphaClass);\n\n        canvas.width  = scaledWidth;\n        canvas.height = scaledHeight;\n\n        if(!alpha && 'mozOpaque' in canvas) {\n          canvas.mozOpaque = true;\n        }\n        \n        canvas.setAttribute(\"aria-hidden\", true);\n        canvas.className = source.className;\n        \n        \n        ctx.drawImage(source, 0, 0, scaledWidth, scaledHeight);\n        triangleMosaicFilter(canvas, 40, alpha);\n        source.parentNode.replaceChild(canvas, source);\n        addClass(wrapper, __wrapperPlaceholderRenderedClass);\n        console.log('placeholder rendered');\n      };\n\n      return function() {\n        imageLoaded(source, process, function() { handlePlaceholderError(wrapper); });\n      };\n    };\n\n  }\n\n  /* =====  ImageSet  ======================================================= */\n\n  function ImageSet() {\n\n    // ---  settings\n\n    var settings = window.imagesetConfig = extend({\n      \n      autoUpdate: true,\n      placeholderRendering: 'async',\n\n    }, window.imagesetConfig || {});\n    \n    var imagesetElements = document.getElementsByClassName(__wrapperPlaceholderClass);\n\n    var _paused = false;\n\n    var queue = [];\n\n    // ---  private methods\n    \n    function checkImagesets() {\n      var style, wrapper, renderer;\n\n      for(var i = 0, l = imagesetElements.length; i < l; i++) {\n        if(!imagesetElements[i]) continue;\n\n        wrapper = imagesetElements[i];\n\n        if(hasClass(wrapper, __wrapperPlaceholderRenderedClass)) continue;\n\n        style = getPlaceholderStyle(wrapper);\n        \n        if(style && placeholderRenderer[style]) {\n          // Render placeholder, if a renderer for given\n          // imageset exists.\n\n          renderer = placeholderRenderer[style](wrapper);\n\n          if(settings.placeholderRendering === 'async') {\n            RenderQueue.add(renderer);\n          } else {\n            renderer();\n          }\n        }\n      }\n\n    }\n\n    var debouncedCheckImagesets = debounce(checkImagesets);\n\n    // ---  initialization\n\n    // 路路路  transition\n\n    document.addEventListener('lazybeforeunveil', function (e) {\n\n      var element = e.target,\n          wrapper = element.parentNode;\n\n      if(!hasClass(element, __imageElementClass)) return;\n\n      while(!hasClass(wrapper, __wrapperClass)) {\n        // Get imageset container element by traversing up the DOM tree\n        wrapper = wrapper.parentNode;\n      }\n\n      // Define a callback function which gets invoked, after an image has\n      // finally loaded.\n      var success = function () {\n        element.removeEventListener(\"load\", success);\n        rAF(function () {\n          // Asynchronously add loaded class\n          addClass(wrapper, __wrapperLoadedClass);\n        });\n      };\n\n      var error = function () {\n        element.removeEventListener(\"error\", error);\n        rAF(function () {\n\n          var errorOverlay = document.createElement('span');\n          addClass(errorOverlay, __errorOverlayClass);\n\n          if(element.hasAttribute('alt') && element.alt !== '') {\n\n            errorOverlay.setAttribute('aria-hidden', true);\n            errorOverlay.appendChild(document.createTextNode(element.alt));\n          }\n\n          wrapper.appendChild(errorOverlay);\n\n          // Asynchronously add loaded class\n          rAF(function() {\n            addClass(wrapper, __wrapperErrorClass);\n          });\n\n        });\n      };\n\n      \n      element.addEventListener(\"load\", success);\n      element.addEventListener(\"error\", error);\n    });\n\n    // 路路路 auto-update\n\n    if(settings.autoUpdate) {\n      if(!!window.MutationObserver) {\n        // Use MutationObserver to check for new elements,\n        // if supported.\n        new window.MutationObserver( debouncedCheckImagesets ).observe( docElement, {childList: true, subtree: true, attributes: false, characterData: false } );\n      } else {\n        // Otherwise, fallback to Mutation Events and add\n        // a setInterval for as a safety fallback.\n        docElement.addEventListener('DOMNodeInserted', debouncedCheckImagesets, true);\n        docElement.addEventListener('DOMAttrModified', debouncedCheckImagesets, true);\n        setInterval(debouncedCheckImagesets, 999);\n      }\n\n      window.addEventListener('hashchange', debouncedCheckImagesets, true);\n      \n      debouncedCheckImagesets();\n    } else {\n      // If autoUpdate is disabled, check imagesets just once.\n      ready(checkImagesets);\n    }\n\n    return {\n      update: checkImagesets,\n    };\n\n  }\n\n  var imageset = new ImageSet();\n\n  window.imageset = imageset;\n\n})(window, document, Math, Date);\n\nimport 'lazysizes/plugins/print/ls.print.js';\nimport 'lazysizes';\n\n//=require includes/ls.print.js\n//=require includes/lazysizes.js\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/imageset.js","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(window, function l(window, document) {\n\t'use strict';\n\t/*jshint eqnull:true */\n\tif(!document.getElementsByClassName){return;}\n\n\tvar lazysizes, lazySizesConfig;\n\n\tvar docElem = document.documentElement;\n\n\tvar Date = window.Date;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\tvar addEventListener = window[_addEventListener];\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('CustomEvent');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initCustomEvent(name, !noBubbles, !noCancelable, detail);\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesConfig.pf) ) ){\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesConfig.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = 125;\n\t\tvar rICTimeout = lazySizesConfig.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && lazySizesConfig.ricTimeout ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesConfig.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesConfig.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || (delay < 9 && requestIdleCallback)){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 300,\n\t\t};\n\n\t\tlazySizesConfig = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesConfig)){\n\t\t\t\tlazySizesConfig[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\n\t\twindow.lazySizesConfig = lazySizesConfig;\n\n\t\tsetTimeout(function(){\n\t\t\tif(lazySizesConfig.init){\n\t\t\t\tinit();\n\t\t\t}\n\t\t});\n\t})();\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom;\n\n\t\tvar defaultExpand, preloadExpand, hFac;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/glebot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(e && e.target){\n\t\t\t\taddRemoveLoadEvents(e.target, resetPreloading);\n\t\t\t}\n\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = getCSS(document.body, 'visibility') == 'hidden' || getCSS(elem, 'visibility') != 'hidden';\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal, beforeExpandVal;\n\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesConfig.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tif(preloadExpand == null){\n\t\t\t\t\tif(!('expand' in lazySizesConfig)){\n\t\t\t\t\t\tlazySizesConfig.expand = docElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefaultExpand = lazySizesConfig.expand;\n\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesConfig.expFactor;\n\t\t\t\t}\n\n\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\tlowRuns = 0;\n\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t}\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesConfig.loadHidden || getCSS(lazyloadElems[i], 'visibility') != 'hidden') &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesConfig.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesConfig.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\taddClass(e.target, lazySizesConfig.loadedClass);\n\t\t\tremoveClass(e.target, lazySizesConfig.loadingClass);\n\t\t\taddRemoveLoadEvents(e.target, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(e.target, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesConfig.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesConfig.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesConfig.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesConfig.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesConfig.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\taddRemoveLoadEvents(elem, resetPreloading, true);\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\n\t\t\t\t\taddClass(elem, lazySizesConfig.loadingClass);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesConfig.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\tif( !firesLoad || (elem.complete && elem.naturalWidth > 1)){\n\t\t\t\t\tif(firesLoad){\n\t\t\t\t\t\tresetPreloading(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisLoading--;\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesConfig.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesConfig.errorClass) && hasClass(elem, lazySizesConfig.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar afterScroll = debounce(function(){\n\t\t\t\tlazySizesConfig.loadMode = 3;\n\t\t\t\tthrottledCheckElements();\n\t\t\t});\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesConfig.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', function(){\n\t\t\t\tif(lazySizesConfig.loadMode == 3){\n\t\t\t\t\tlazySizesConfig.loadMode = 2;\n\t\t\t\t}\n\t\t\t\tafterScroll();\n\t\t\t}, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesConfig.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesConfig.lazyClass + ' ' + lazySizesConfig.preloadClass);\n\t\t\t\thFac = lazySizesConfig.hFac;\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend', 'webkitAnimationEnd'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesConfig.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tlazysizes = {\n\t\tcfg: lazySizesConfig,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lazysizes/lazysizes.js\n// module id = 5\n// module chunks = 2","/*\nThis lazySizes extension adds better support for print.\nIn case the user starts to print lazysizes will load all images.\n*/\n(function(window, factory) {\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(window, function(window, document, lazySizes) {\n\t/*jshint eqnull:true */\n\t'use strict';\n\tvar config, elements, onprint, printMedia;\n\t// see also: http://tjvantoll.com/2012/06/15/detecting-print-requests-with-javascript/\n\tif(window.addEventListener){\n\t\tconfig = (lazySizes && lazySizes.cfg) || window.lazySizesConfig || {};\n\t\telements = config.lazyClass || 'lazyload';\n\t\tonprint = function(){\n\t\t\tvar i, len;\n\t\t\tif(typeof elements == 'string'){\n\t\t\t\telements = document.getElementsByClassName(elements);\n\t\t\t}\n\n\t\t\tif(lazySizes){\n\t\t\t\tfor(i = 0, len = elements.length; i < len; i++){\n\t\t\t\t\tlazySizes.loader.unveil(elements[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\taddEventListener('beforeprint', onprint, false);\n\n\t\tif(!('onbeforeprint' in window) && window.matchMedia && (printMedia = matchMedia('print')) && printMedia.addListener){\n\t\t\tprintMedia.addListener(function(){\n\t\t\t\tif(printMedia.matches){\n\t\t\t\t\tonprint();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lazysizes/plugins/print/ls.print.js\n// module id = 6\n// module chunks = 2"],"sourceRoot":""}