{"version":3,"sources":["webpack:///webpack/bootstrap 75a0e6dd4196fd303845","webpack:///./assets/js/src/utils/imageLoaded.js","webpack:///./node_modules/lazysizes/lazysizes.js","webpack:///./assets/js/src/utils/fixCanvasResolution.js","webpack:///./assets/js/src/imageset.js","webpack:///./assets/js/src/utils/rAF.js","webpack:///./assets/js/src/utils/ready.js","webpack:///./assets/js/src/utils/debounce.js","webpack:///./node_modules/lazysizes/plugins/print/ls.print.js","webpack:///./assets/js/src/placeholder/triangles.js","webpack:///./assets/js/src/placeholder/mosaic.js","webpack:///./assets/js/src/placeholder/blur.js","webpack:///./assets/js/src/utils/stackBlurCanvas.js"],"names":["img","success","failure","complete","naturalWidth","successCallback","removeEventListener","addEventListener","testImg","Image","src","canvas","ctx","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","pixelRatio","oldWidth","width","oldHeight","height","scale","__wrapperClass","__wrapperLoadedClass","__wrapperErrorClass","__wrapperPlaceholderStyleClass","__wrapperAlphaClass","__wrapperPlaceholderRenderedClass","__wrapperPlaceholderErrorClass","__imageElementClass","__placeholderElementClass","__errorOverlayClass","__operaMiniClass","isOperaMini","Object","prototype","toString","call","operamini","placeholder","triangles","mosaic","blurred","lqip","__placeholderstyleRegexp","RegExp","ImageSet","wrapper","image","getElementsByClassName","load","bind","error","placeholderStyle","getPlaceholderStyle","classList","add","newPlaceholder","oldPlaceholder","getPlaceholderElement","setAttribute","className","parentNode","replaceChild","placeholderElement","undefined","result","match","querySelector","contains","errorOverlay","document","createElement","alt","getAttribute","appendChild","createTextNode","imagesetElements","checkImagesets","i","l","length","item","_imageset","debouncedCheckImagesets","MutationObserver","observe","documentElement","childList","subtree","attributes","characterData","setInterval","lazySizesConfig","init","loadImageSetForOperaMini","sources","getElementsByTagName","HTMLPictureElement","s","hasAttribute","fallbackSource","candidates","split","removeChild","pop","replace","imagesets","rAF","requestAnimationFrame","fn","setTimeout","readyState","delay","timer","context","args","arguments","clearTimeout","apply","imageset","source","process","naturalHeight","scaledWidth","getWrapper","offsetWidth","scaledHeight","Math","round","getContext","alpha","isAlpha","mozOpaque","drawImage","renderTriangles","side","imageData","getImageData","pixels","data","imageDataWidth","imageDataHeight","xMax","yMax","sqrt","halfHeight","halfSide","drawTriangle","x","y","stroke","directionRight","xBase","beginPath","moveTo","lineTo","fill","closePath","pickColor","colorOffset","getAlpha","getAverageAlphaFromPoints","points","len","rgb","color","slice","join","rgba","sanitizeX","max","min","sanitizeY","stepX","xSteps","ceil","stepY","ySteps","posX","posY","sanitizedPosX","sanitizedPosY","rectColor","rectColorPosY","trianglePosY","triangleBaseX","triangleTipX","triangleColor","triangleColorPosY","triangleColorPosX","sanitizedTriangleCenterX","sanitizedTriangleCenterY","trianglePointsRight","averageAlpha","fillStyle","fillRect","alphaImageData","alphaData","alphaDataLength","putImageData","globalCompositeOperation","supportsPixelatedImages","isSafari","props","prop","navigator","userAgent","indexOf","style","radius","mul_sum","shg_sum","stackBlurCanvasRGBA","top_x","top_y","stackBlurImageDataRGBA","p","yp","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pr","pg","pb","pa","rbs","div","w4","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","BlurStack","stackEnd","stack","next","stackIn","stackOut","r","g","b","a","stackBlurCanvasRGB"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;kBC7De,UAASA,GAAT,EAAcC,OAAd,EAA+C;AAAA,MAAxBC,OAAwB,uEAAd,YAAU,CAAE,CAAE;;;AAE5D,MAAGF,IAAIG,QAAJ,IAAiB,OAAOH,IAAII,YAAX,KAA4B,WAA7C,IAA6DJ,IAAII,YAAJ,GAAmB,CAAnF,EAAsF;AACpF;AACAH;AACA;AACD;;AAED,MAAII,kBAAkB,SAAlBA,eAAkB,GAAY;AAChC,SAAKC,mBAAL,CAAyB,MAAzB,EAAiCD,eAAjC;AACAJ;AACD,GAHD;;AAKAD,MAAIO,gBAAJ,CAAqB,MAArB,EAA6BF,eAA7B;;AAEA,MAAGH,OAAH,EAAY;AACV,QAAIM,UAAU,IAAIC,KAAJ,EAAd;AACAD,YAAQD,gBAAR,CAAyB,OAAzB,EAAkC,YAAW;AAC3CL;AACD,KAFD;AAGAM,YAAQE,GAAR,GAAcV,IAAIU,GAAlB;AACD;AAEF,C;;;;;;ACvBD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,sCAAsC;;AAEtC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,iCAAiC;AAC9C,GAAG;AACH;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB;;AAElD;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA,SAAS,WAAW;;AAEpB,yDAAyD;;AAEzD,wBAAwB,gCAAgC;;AAExD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,2BAA2B,SAAS;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,uMAAuM;;AAEvM;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,uEAAuE,iDAAiD;AACxH,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK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","file":"js/dist/imageset.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 75a0e6dd4196fd303845","export default function(img, success, failure = function(){}) {\n\n  if(img.complete && (typeof img.naturalWidth !== 'undefined') && img.naturalWidth > 0) {\n    // immediately execute callback, if image is already loaded.\n    success();\n    return;\n  }\n\n  var successCallback = function () {\n    this.removeEventListener('load', successCallback);\n    success();\n  };\n\n  img.addEventListener('load', successCallback);\n\n  if(failure) {\n    var testImg = new Image();\n    testImg.addEventListener('error', function() {\n      failure();\n    });\n    testImg.src = img.src;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/utils/imageLoaded.js","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(window, function l(window, document) {\n\t'use strict';\n\t/*jshint eqnull:true */\n\tif(!document.getElementsByClassName){return;}\n\n\tvar lazysizes, lazySizesConfig;\n\n\tvar docElem = document.documentElement;\n\n\tvar Date = window.Date;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\tvar addEventListener = window[_addEventListener];\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('CustomEvent');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initCustomEvent(name, !noBubbles, !noCancelable, detail);\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesConfig.pf) ) ){\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesConfig.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = 125;\n\t\tvar rICTimeout = lazySizesConfig.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && lazySizesConfig.ricTimeout ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesConfig.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesConfig.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || (delay < 9 && requestIdleCallback)){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 300,\n\t\t};\n\n\t\tlazySizesConfig = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesConfig)){\n\t\t\t\tlazySizesConfig[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\n\t\twindow.lazySizesConfig = lazySizesConfig;\n\n\t\tsetTimeout(function(){\n\t\t\tif(lazySizesConfig.init){\n\t\t\t\tinit();\n\t\t\t}\n\t\t});\n\t})();\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom;\n\n\t\tvar defaultExpand, preloadExpand, hFac;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/glebot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(e && e.target){\n\t\t\t\taddRemoveLoadEvents(e.target, resetPreloading);\n\t\t\t}\n\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = getCSS(document.body, 'visibility') == 'hidden' || getCSS(elem, 'visibility') != 'hidden';\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal, beforeExpandVal;\n\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesConfig.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tif(preloadExpand == null){\n\t\t\t\t\tif(!('expand' in lazySizesConfig)){\n\t\t\t\t\t\tlazySizesConfig.expand = docElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefaultExpand = lazySizesConfig.expand;\n\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesConfig.expFactor;\n\t\t\t\t}\n\n\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\tlowRuns = 0;\n\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t}\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesConfig.loadHidden || getCSS(lazyloadElems[i], 'visibility') != 'hidden') &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesConfig.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesConfig.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\taddClass(e.target, lazySizesConfig.loadedClass);\n\t\t\tremoveClass(e.target, lazySizesConfig.loadingClass);\n\t\t\taddRemoveLoadEvents(e.target, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(e.target, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\ttry {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} catch(e){\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesConfig.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesConfig.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesConfig.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesConfig.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesConfig.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\taddRemoveLoadEvents(elem, resetPreloading, true);\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\n\t\t\t\t\taddClass(elem, lazySizesConfig.loadingClass);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesConfig.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\tif( !firesLoad || (elem.complete && elem.naturalWidth > 1)){\n\t\t\t\t\tif(firesLoad){\n\t\t\t\t\t\tresetPreloading(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisLoading--;\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\tvar unveilElement = function (elem){\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesConfig.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesConfig.errorClass) && hasClass(elem, lazySizesConfig.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar afterScroll = debounce(function(){\n\t\t\t\tlazySizesConfig.loadMode = 3;\n\t\t\t\tthrottledCheckElements();\n\t\t\t});\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesConfig.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', function(){\n\t\t\t\tif(lazySizesConfig.loadMode == 3){\n\t\t\t\t\tlazySizesConfig.loadMode = 2;\n\t\t\t\t}\n\t\t\t\tafterScroll();\n\t\t\t}, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesConfig.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesConfig.lazyClass + ' ' + lazySizesConfig.preloadClass);\n\t\t\t\thFac = lazySizesConfig.hFac;\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend', 'webkitAnimationEnd'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesConfig.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tlazysizes = {\n\t\tcfg: lazySizesConfig,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lazysizes/lazysizes.js\n// module id = 1\n// module chunks = 0","export default function(canvas, ctx) {\n  // Adjustments for HiDPI/Retina screens\n  var devicePixelRatio  = window.devicePixelRatio || 1;\n  var backingStoreRatio = ctx.webkitBackingStorePixelRatio || 1; // Compatibility with (older?) Safari\n  var pixelRatio        = devicePixelRatio / backingStoreRatio;\n\n  if(devicePixelRatio !== backingStoreRatio) {\n    var oldWidth        = canvas.width;\n    var oldHeight       = canvas.height;\n    canvas.width        = oldWidth  * pixelRatio;\n    canvas.height       = oldHeight * pixelRatio;\n    //canvas.style.width  = oldWidth  + 'px';\n    //canvas.style.height = oldHeight + 'px';\n    ctx.scale(pixelRatio, pixelRatio);\n  }\n\n  return pixelRatio;\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/utils/fixCanvasResolution.js","/*!\n * ImageSet (1.1.0-beta1)\n *\n * This script file is needed for lazyloading imagesets,\n * generated with ImageSet for Kirby and rendering placeholder\n * effeccts\n *\n * Copyright (c) 2016-2018 Fabian Michael <hallo@fabianmichael.de>\n * @license SEE LICENSE IN license.md\n *\n * This script also includes:\n *\n *   StackBlur 0.6\n *   Copyright (c) 2010 Mario Klingemann <mario@quasimondo.com>\n *   https://github.com/Quasimondo/QuasimondoJS\n *\n *   lazysizes 2.0.7 (with \"static-gecko-picture\" plugin)\n *   Copyright (C) 2015 Alexander Farkas, released under MIT license\n *   https://github.com/aFarkas/lazysizes\n * \n */\n'use strict';\n\nimport imageLoaded from './utils/imageLoaded';\nimport rAF         from './utils/rAF';\nimport ready       from './utils/ready';\nimport debounce    from './utils/debounce';\n\nimport 'lazysizes/plugins/print/ls.print.js';\nimport 'lazysizes';\n\n/* =====  Configuration  ================================================== */\n\nconst __wrapperClass                    = 'imageset';\nconst __wrapperLoadedClass              = 'is-loaded';\nconst __wrapperErrorClass               = 'has-error';\nconst __wrapperPlaceholderStyleClass    = '-placeholder:';\nconst __wrapperAlphaClass               = '-alpha';\nconst __wrapperPlaceholderRenderedClass = 'is-placeholder-rendered';\nconst __wrapperPlaceholderErrorClass    = 'has-placeholder-error';\nconst __imageElementClass               = __wrapperClass + '-element';\nconst __placeholderElementClass         = __wrapperClass + '-placeholder';\nconst __errorOverlayClass               = 'imageset-error';\nconst __operaMiniClass                  = 'operamini';\n\nconst isOperaMini = (Object.prototype.toString.call(window.operamini) === '[object OperaMini]');\n\nimport trianglesPlaceholder     from './placeholder/triangles';\nimport mosaicPlaceholder        from './placeholder/mosaic';\nimport blurPlaceholderGenerator from './placeholder/blur';\n\nconst placeholder = {\n  triangles: trianglesPlaceholder,\n  mosaic:    mosaicPlaceholder,\n  blurred:   blurPlaceholderGenerator(15, 512, 17),\n  lqip:      blurPlaceholderGenerator( 7, 512, 15),\n};\n\n\n\nconst __placeholderstyleRegexp = new RegExp(__wrapperPlaceholderStyleClass + '([a-z0-9_-]+)\\\\s*', 'i');\n\nclass ImageSet {\n  \n  constructor(wrapper) {\n    this.wrapper = wrapper;\n    this.image   = this.wrapper.getElementsByClassName(__imageElementClass)[0];\n    \n    // init image callbacks for load and error events\n    imageLoaded(this.image, this.load.bind(this), this.error.bind(this));\n\n    // init placeholder rendering\n    var placeholderStyle   = this.getPlaceholderStyle();\n    \n    if(placeholder[placeholderStyle]) {\n      placeholder[placeholderStyle](this, newPlaceholder => {\n        this.wrapper.classList.add(__wrapperPlaceholderRenderedClass);\n        \n        if(newPlaceholder) {\n          var oldPlaceholder = this.getPlaceholderElement();     \n\n          newPlaceholder.setAttribute('aria-hidden', 'true');\n\n          newPlaceholder.className = oldPlaceholder.className + ' ' + newPlaceholder.className;\n          \n          oldPlaceholder.parentNode.replaceChild(newPlaceholder, oldPlaceholder);\n          this.placeholderElement = newPlaceholder;\n        }\n      }, () => {\n        this.wrapper.classList.add(__wrapperPlaceholderErrorClass);\n      });\n    }\n  }\n\n  getWrapper() {\n    return this.wrapper;\n  }\n\n  getPlaceholderStyle() {\n    if(this.placeholderStyle === undefined) {\n      // determine placeholder style if not already in cache\n      let result = this.wrapper.className.match(__placeholderstyleRegexp);\n      this.placeholderStyle = result ? result[1] : false;\n    }\n\n    return this.placeholderStyle;\n  }\n\n  getPlaceholderElement() {\n    if(this.placeholderElement === undefined) {\n      this.placeholderElement = this.wrapper.querySelector('.' + __placeholderElementClass);\n    }\n\n    return this.placeholderElement;\n  }\n\n  isAlpha() {\n    return this.wrapper.classList.contains(__wrapperAlphaClass);\n  }\n\n  load() {\n    rAF(() => {\n      this.wrapper.classList.add(__wrapperLoadedClass);\n    });\n  }\n\n  error() {\n    rAF(() => {\n      \n      var errorOverlay = document.createElement('span');\n      errorOverlay.classList.add(__errorOverlayClass);\n\n      var alt = this.image.getAttribute('alt');\n\n      if(alt !== null && alt !== '') {\n        errorOverlay.setAttribute('aria-hidden', 'true');\n        errorOverlay.appendChild(document.createTextNode(alt));\n      }\n\n      this.wrapper.appendChild(errorOverlay);\n      \n      rAF(() => {\n        this.wrapper.classList.add(__wrapperErrorClass);\n      });\n\n    });\n  }\n}\n\nconst imagesetElements = document.getElementsByClassName(__wrapperClass);\n\nfunction checkImagesets() {\n  for(let i = 0, l = imagesetElements.length, item; (i < l) && (item = imagesetElements[i]); i++) {\n\n    if(item._imageset) {\n      // skip imagesets that have been already initialized\n      // console.log(\"skipped!\", item);\n      continue; \n    }\n\n    item._imageset = new ImageSet(item);\n  }\n}\n\nvar debouncedCheckImagesets = debounce(checkImagesets);\n\n/* =====  Variable Shortcuts  ============================================= */\n\nif(!isOperaMini) {\n\n  if(window.MutationObserver) {\n    // Use MutationObserver to check for new elements,\n    // if supported.\n    new window.MutationObserver( debouncedCheckImagesets ).observe( document.documentElement, {childList: true, subtree: true, attributes: false, characterData: false } );\n  } else {\n    // Otherwise, fallback to Mutation Events and add\n    // a setInterval for as a safety fallback.\n    document.documentElement.addEventListener('DOMNodeInserted', debouncedCheckImagesets, true);\n    document.documentElement.addEventListener('DOMAttrModified', debouncedCheckImagesets, true);\n    setInterval(debouncedCheckImagesets, 999);\n    ready(debouncedCheckImagesets);\n  }\n\n  window.addEventListener('hashchange', debouncedCheckImagesets, true);\n\n  debouncedCheckImagesets();\n\n\n} else {\n  // Opera Mini has limited DOM Event support and does not\n  // work with lazysizes. So we shortcut the loading process\n  // of lazy-loading and disable lazysizes.\n  window.lazySizesConfig      = window.lazySizesConfig || {};\n  window.lazySizesConfig.init = false;\n\n  document.documentElement.classList.add(__operaMiniClass);\n\n  var loadImageSetForOperaMini = function(wrapper) {\n      \n    var sources = wrapper.getElementsByTagName('source');\n    var img     = wrapper.getElementsByClassName(__imageElementClass)[0];\n  \n    // Wrapper should be loaded to trigger css hook like\n    // on other browsers.\n    wrapper.classList.add(__wrapperLoadedClass);\n\n    if(window.HTMLPictureElement) {\n      // As of December 2016, Opera Mini does not support\n      // the picture element. However, we consider this\n      // here for possible implementations in the future.\n      for(let i = 0, l = sources.length; i < l; i++) {\n        let s = sources[i];\n        if(s.hasAttribute('data-srcset')) s.setAttribute('srcset', s.getAttribute('data-srcset'));\n        if(s.hasAttribute('data-src'))    s.setAttribute('src',    s.getAttribute('data-src'));\n      }\n\n      if(img.hasAttribute('data-srcset')) img.setAttribute('srcset', img.getAttribute('data-srcset'));\n      if(img.hasAttribute('data-src'))    img.setAttribute('src',    img.getAttribute('data-src'));\n\n    } else {\n      \n      var fallbackSource = sources.length > 0 ? sources[sources.length - 1] : img;\n      var candidates     = fallbackSource.getAttribute('data-srcset').split(/,\\s+/);\n\n      while(sources.length > 0) {\n        // Delete sources elements \n        sources[0].parentNode.removeChild(sources[0]);\n      }\n\n      img.src = candidates.pop().replace(/\\s+\\d+[wx]$/, '');\n    }\n  };\n\n  ready(function() {\n    var imagesets = document.getElementsByClassName(__wrapperClass);\n    for(var i = 0, l = imagesets.length; i < l; i++) {\n      loadImageSetForOperaMini(imagesets[i]);\n    }\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/imageset.js","// Shim layer with setTimeout fallback. Look only for unprefixed\n// requestAnimationFrame, because all modern browsern already removed the\n// prefix.\nvar rAF = window.requestAnimationFrame || function(fn) { setTimeout(fn, 1000 / 60); };\n\nexport default rAF;\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/utils/rAF.js","export default function(fn) {\n  if(document.readyState != 'loading') {\n    fn();\n  } else {\n    document.addEventListener('DOMContentLoaded', fn);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/utils/ready.js","export default function(fn, delay) {\n  var timer = null;\n  return function () {\n    var context = this, args = arguments;\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(context, args);\n    }, delay);\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/utils/debounce.js","/*\nThis lazySizes extension adds better support for print.\nIn case the user starts to print lazysizes will load all images.\n*/\n(function(window, factory) {\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(window, function(window, document, lazySizes) {\n\t/*jshint eqnull:true */\n\t'use strict';\n\tvar config, elements, onprint, printMedia;\n\t// see also: http://tjvantoll.com/2012/06/15/detecting-print-requests-with-javascript/\n\tif(window.addEventListener){\n\t\tconfig = (lazySizes && lazySizes.cfg) || window.lazySizesConfig || {};\n\t\telements = config.lazyClass || 'lazyload';\n\t\tonprint = function(){\n\t\t\tvar i, len;\n\t\t\tif(typeof elements == 'string'){\n\t\t\t\telements = document.getElementsByClassName(elements);\n\t\t\t}\n\n\t\t\tif(lazySizes){\n\t\t\t\tfor(i = 0, len = elements.length; i < len; i++){\n\t\t\t\t\tlazySizes.loader.unveil(elements[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\taddEventListener('beforeprint', onprint, false);\n\n\t\tif(!('onbeforeprint' in window) && window.matchMedia && (printMedia = matchMedia('print')) && printMedia.addListener){\n\t\t\tprintMedia.addListener(function(){\n\t\t\t\tif(printMedia.matches){\n\t\t\t\t\tonprint();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lazysizes/plugins/print/ls.print.js\n// module id = 7\n// module chunks = 0","import fixCanvasResolution from '../utils/fixCanvasResolution';\nimport imageLoaded from '../utils/imageLoaded';\n\nfunction renderTriangles(canvas, side, alpha) {\n        \n  alpha = !!alpha;\n\n  // Canvas Properties\n  var ctx             = canvas.getContext('2d'),\n      imageData       = ctx.getImageData(0, 0, canvas.width, canvas.height),\n      pixels          = imageData.data,\n      imageDataWidth  = imageData.width,\n      imageDataHeight = imageData.height,\n      xMax            = imageDataWidth  - 1,\n      yMax            = imageDataHeight - 1;\n      \n  // Triangle Properties\n  var height         = Math.round(side * (Math.sqrt(3)/2)), // Triangle height ((side * Math.sqrt(3) / 2) + 0.5) | 0, // \n      halfHeight     = height / 2,\n      halfSide       = side   / 2;   \n\n  //Update canvas if needed (HiDPI/Retina screens)\n  fixCanvasResolution(canvas, ctx);\n  \n  // Utility functions\n  var drawTriangle  = function(x, y, stroke, directionRight) {\n    directionRight = directionRight || false;\n    var xBase = x + (directionRight ? 0 : height);\n    ctx.beginPath();\n    ctx.moveTo(xBase, y + 0);\n    ctx.lineTo(x + (directionRight ? height : 0),  y + halfSide);\n    ctx.lineTo(xBase, y + side);\n    ctx.fill();\n    ctx.closePath();\n  };\n\n  // Utility functions\n  var pickColor = function(x, y) {\n    var colorOffset = y * imageDataWidth * 4 + x * 4;\n    return [\n      // Our dear friend IE does not support `slice()` on typed arrays,\n      // falling back to doing it the hard way \n      pixels[colorOffset],\n      pixels[colorOffset + 1],\n      pixels[colorOffset + 2],\n      pixels[colorOffset + 3],\n    ];\n  };\n\n  var getAlpha = function(x, y) {\n    return pixels[y * imageDataWidth * 4 + x * 4 + 3];\n  };\n\n  var getAverageAlphaFromPoints = function(points) {\n    var alpha = 0, i = 0, len = points.length;\n    for(; i < len; i++) alpha += getAlpha(points[i][0], points[i][1]);\n    return alpha / len;\n  };\n\n  var rgb = function(color) {\n    return \"rgb(\" + color.slice(0, 3).join(\",\") + \")\";\n  };\n  \n  var rgba = function(color) {\n    color[3] /= 255;\n    return \"rgba(\" + color.join(\",\") + \")\";\n  };\n  \n  var sanitizeX = function(x) {\n    return Math.max(0, Math.min(Math.round(x), xMax));\n    // return Math.max(0, Math.min((x + 0.5) | 0, xMax));\n  };\n  \n  var sanitizeY = function(y) {\n    return Math.max(0, Math.min(Math.round(y), yMax));\n    // return Math.max(0, Math.min((y + 0.5) | 0, yMax));\n  };\n\n  var stepX, xSteps = Math.ceil(imageDataWidth  / height) + 1, // make sure, that canvas is\n      stepY, ySteps = Math.ceil(imageDataHeight / side)   + 1, // completely filled.\n      posX, posY, sanitizedPosX, sanitizedPosY,\n      rectColor,\n      rectColorPosY,\n      trianglePosY,\n      triangleBaseX,\n      triangleTipX,\n      triangleColor,\n      triangleColorPosY,\n      triangleColorPosX,\n      sanitizedTriangleCenterX,\n      sanitizedTriangleCenterY,\n      trianglePointsRight,\n      points,\n      averageAlpha,\n      i;\n\n  if(alpha) {\n    // Generate Alpha Mask\n    for(stepY = 0; stepY < ySteps; stepY++) {\n      posY               = stepY * side;\n      rectColorPosY      = sanitizeY(posY + halfSide);\n      trianglePosY       = posY - halfSide;\n      triangleColorPosY  = sanitizeY(posY);   \n      \n      for(stepX = 0; stepX < xSteps; stepX++) {\n        posX = stepX * height;\n        trianglePointsRight = stepX % 2 !== 0;\n        sanitizedPosX       = sanitizeX(posX);\n        sanitizedPosY       = sanitizeY(posY);\n        \n        // Get average alpha for rect and draw it\n        triangleTipX             = sanitizeX(trianglePointsRight ? posX + height - 1 : posX);\n        triangleBaseX            = sanitizeX(trianglePointsRight ? posX : posX + height - 1);\n        sanitizedTriangleCenterX = sanitizeX(posX + halfHeight);\n        sanitizedTriangleCenterY = sanitizeY(posY + halfSide);\n\n        // For calculating alpha transparency, were using\n        // the average color of the area covered by\n        // triangles and rects. Although its slower than\n        // picking the color value of a single pixel,\n        // results are way better.\n        points = [\n          [ triangleBaseX            , sanitizedPosY              ],\n          [ triangleTipX             , sanitizedTriangleCenterY   ],\n          [ triangleBaseX            , sanitizeY(posY + side - 1) ],\n          [ sanitizedTriangleCenterX , sanitizedTriangleCenterY   ],\n          [ sanitizedTriangleCenterX , sanitizedTriangleCenterY   ],\n        ];\n\n        averageAlpha  = (getAverageAlphaFromPoints(points) + 0.5) | 0;\n        ctx.fillStyle = rgba([averageAlpha, 0, 0, 255]);\n        ctx.fillRect(posX, posY, height, side);\n\n        // Get average alpha for triangle and draw it\n        points = [\n          [ triangleBaseX            , sanitizeY(posY - halfSide)     ],\n          [ triangleTipX             , sanitizedPosY                  ],\n          [ triangleBaseX            , sanitizeY(posY + halfSide - 1) ],\n          [ sanitizedTriangleCenterX , sanitizedPosY                  ],\n          [ sanitizedTriangleCenterX , sanitizedPosY                  ],\n        ];\n\n        averageAlpha  = (getAverageAlphaFromPoints(points) + 0.5) | 0;\n        ctx.fillStyle = rgba([averageAlpha, 0, 0, 255]);\n        drawTriangle(posX, trianglePosY, false, trianglePointsRight);\n      }\n    }\n\n    // Move red channel to alpha channel\n    var alphaImageData  = ctx.getImageData(0, 0, canvas.width, canvas.height),\n        alphaData       = alphaImageData.data,\n        alphaDataLength = alphaData.length;\n\n    for(i = 0; i < alphaDataLength; i += 4) {\n      alphaData[i + 3] = alphaData[i];\n    }\n\n    ctx.putImageData(alphaImageData, 0, 0);\n\n    // Causes new pixels to be drawn only where the\n    // \n    ctx.globalCompositeOperation = \"source-atop\";\n  }\n\n  // Draw the final triangle mosaic\n  for(stepY = 0; stepY < ySteps; stepY++) {\n    posY               = stepY * side;\n    rectColorPosY      = sanitizeY(posY + halfSide);\n    trianglePosY       = posY - halfSide;\n    triangleColorPosY  = sanitizeY(posY);   \n    for(stepX = 0; stepX < xSteps; stepX++) {\n      // Its faster and produces better looking results,\n      // i.e. eliminates artifacts at the edges of triangles\n      // when drawing a rect first and then draw a\n      // triangle that is shifted upwards by half of its\n      // height.\n      posX                = stepX * height;\n      triangleColorPosX   = sanitizeX(posX + halfHeight);\n      trianglePointsRight = (stepX % 2 !== 0);\n\n      // For the final layer, only one color is picked\n      // for the rect and the triangle. This is way faster\n      // than the method used to calculate the alpha mask,\n      // but results are sufficient for a decent quality\n      // of the result.\n      ctx.fillStyle = rgb(pickColor(triangleColorPosX, rectColorPosY));\n      ctx.fillRect(posX, posY, height, side);\n      \n      ctx.fillStyle = rgb(pickColor(triangleColorPosX, triangleColorPosY));\n      drawTriangle(posX, trianglePosY, false, trianglePointsRight);\n    }\n  }\n\n  if(alpha) {\n    // Reset composite operation, in case that other\n    // scripts want to manipulate the canvas further.\n    ctx.globalCompositeOperation = \"source-over\";\n  }\n}\n\n\nexport default function(imageset, success = function(){}, error = function(){}) {\n\n  var source = imageset.getPlaceholderElement();\n\n  var process = function() {\n    var width        = source.naturalWidth,\n        height       = source.naturalHeight,\n        scaledWidth  = imageset.getWrapper().offsetWidth,\n        scaledHeight = Math.round(scaledWidth / width * height), // (scaledWidth / width * height + 0.5) | 0, // faster Math.round() hack // same as: \n        canvas       = document.createElement(\"canvas\"),\n        ctx          = canvas.getContext(\"2d\"),\n        alpha        = imageset.isAlpha();\n\n    canvas.width  = scaledWidth;\n    canvas.height = scaledHeight;\n\n    if(!alpha && 'mozOpaque' in canvas) {\n      // alpha channel can be disabled in Firefox to\n      // improve performance a bit.\n      canvas.mozOpaque = true;\n    }\n    \n    ctx.drawImage(source, 0, 0, scaledWidth, scaledHeight);\n    renderTriangles(canvas, 40, alpha);\n    \n    success(canvas);\n  };\n\n  imageLoaded(source, process, error);\n\n};\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/placeholder/triangles.js","import fixCanvasResolution from '../utils/fixCanvasResolution';\nimport imageLoaded from '../utils/imageLoaded';\n\nconst isSafari                = (navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Chrome') === -1);\nconst supportsPixelatedImages = ('imageRendering' in document.documentElement.style || 'msInterpolationMode' in document.documentElement.style);\n\nexport default function(imageset, success = function(){}, error = function(){}) {\n\n  var source = imageset.getPlaceholderElement();\n  var process;\n\n  if(supportsPixelatedImages && !isSafari) {\n    process = function() {\n      // dont render anything if pixelated images are\n      // supported by browser, just tell success after\n      // placeholder has successfully loaded.\n      success();\n    };\n  } else {\n\n    process = function() {\n\n      var canvas      = document.createElement('canvas');\n      var ctx         = canvas.getContext('2d');\n\n      fixCanvasResolution(canvas, ctx);\n\n      var width        = source.naturalWidth;\n      var height       = source.naturalHeight;\n      var scaledWidth  = imageset.getWrapper().offsetWidth;\n      var scaledHeight = (scaledWidth / width * height + 0.5) | 0;\n\n      canvas.width  = scaledWidth;\n      canvas.height = scaledHeight;\n\n      var props = [\n        'imageSmoothingEnabled',\n        'mozImageSmoothingEnabled',\n        'webkitImageSmoothingEnabled',\n        'msImageSmoothingEnabled'\n      ];\n\n      for(let i = 0, l = props.length, prop; i < l; i++) {\n        prop = props[i];\n        \n        if(prop in ctx) {\n          ctx[prop] = false;\n          break;\n        }\n      }\n    \n      ctx.drawImage(source, 0, 0, scaledWidth, scaledHeight);\n      \n      success(canvas);\n    };\n  }\n\n  imageLoaded(source, process, error);\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/placeholder/mosaic.js","import imageLoaded from '../utils/imageLoaded';\nimport stackBlurCanvas from '../utils/stackBlurCanvas';\n\nexport default function(radius, mul_sum, shg_sum) {\n  \n  return function(imageset, success = function(){}, error = function(){}) {\n\n    var source = imageset.getPlaceholderElement();\n\n    var process = function() {\n\n      var width        = source.naturalWidth;\n      var height       = source.naturalHeight;\n      var scaledWidth  = imageset.getWrapper().offsetWidth;\n      var scaledHeight = (scaledWidth / width * height + 0.5) | 0;\n      var canvas       = document.createElement('canvas');\n      var ctx          = canvas.getContext('2d');\n      var alpha        = imageset.isAlpha();\n\n      canvas.width  = scaledWidth;\n      canvas.height = scaledHeight;\n\n      if(!alpha && 'mozOpaque' in canvas) {\n        canvas.mozOpaque = true;\n      }\n    \n      ctx.drawImage(source, 0, 0, scaledWidth, scaledHeight);\n      stackBlurCanvas[alpha ? 'rgba' : 'rgb'](canvas, 0, 0, scaledWidth, scaledHeight, radius, mul_sum, shg_sum);\n\n      success(canvas);\n    };\n\n    imageLoaded(source, process, error);\n  \n  };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/placeholder/blur.js","/* eslint-disable */\n\n// var mul_table = [\n//         512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,\n//         454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,\n//         482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,\n//         437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,\n//         497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,\n//         320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,\n//         446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,\n//         329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,\n//         505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,\n//         399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,\n//         324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,\n//         268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,\n//         451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,\n//         385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,\n//         332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,\n//         289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];\n// 'light' => 512, (7) / 15\n// 'strong' => 512, / 17\n        \n    \n// var shg_table = [\n// \t     9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, \n// \t\t17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, \n// \t\t19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\n// \t\t20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\n// \t\t21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\n// \t\t21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, \n// \t\t22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\n// \t\t22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, \n// \t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n// \t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n// \t\t23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, \n// \t\t23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, \n// \t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n// \t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n// \t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n// \t\t24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 ];\n\n// function stackBlurImage( imageIDOrElement, canvasIDOrElement, radius, blurAlphaChannel )\n// {\n      \n// \tvar img = stackBlurGetElement( imageIDOrElement );\n// \tvar w = img.naturalWidth;\n// \tvar h = img.naturalHeight;\n        \n// \tvar canvas = stackBlurGetElement( canvasIDOrElement );\n      \n//     canvas.style.width  = w + \"px\";\n//     canvas.style.height = h + \"px\";\n//     canvas.width = w;\n//     canvas.height = h;\n    \n//     var context = canvas.getContext(\"2d\");\n//     context.clearRect( 0, 0, w, h );\n//     context.drawImage( img, 0, 0 );\n\n// \tif ( isNaN(radius) || radius < 1 ) return;\n  \n// \tif ( blurAlphaChannel )\n// \t\tstackBlurCanvasRGBA( canvasIDOrElement, 0, 0, w, h, radius );\n// \telse \n// \t\tstackBlurCanvasRGB( canvasIDOrElement, 0, 0, w, h, radius );\n// }\n\n\nfunction stackBlurCanvasRGBA( canvas, top_x, top_y, width, height, radius, mul_sum, shg_sum )\n{\n  //var canvas    = stackBlurGetElement( canvasIDOrElement );\n  var context   = canvas.getContext(\"2d\");\n  var imageData = context.getImageData( top_x, top_y, width, height );\n  \n  // try {\n  //   try {\n  // \timageData = context.getImageData( top_x, top_y, width, height );\n  //   } catch(e) {\n    \n  // \t// NOTE: this part is supposedly only needed if you want to work with local files\n  // \t// so it might be okay to remove the whole try/catch block and just use\n  // \t// imageData = context.getImageData( top_x, top_y, width, height );\n  // \ttry {\n  // \t\tnetscape.security.PrivilegeManager.enablePrivilege(\"UniversalBrowserRead\");\n  // \t\timageData = context.getImageData( top_x, top_y, width, height );\n  // \t} catch(e) {\n  // \t\talert(\"Cannot access local image\");\n  // \t\tthrow new Error(\"unable to access local image data: \" + e);\n  // \t\treturn;\n  // \t}\n  //   }\n  // } catch(e) {\n  //   alert(\"Cannot access image\");\n  //   throw new Error(\"unable to access image data: \" + e);\n  // }\n  \n  imageData = stackBlurImageDataRGBA( imageData, radius, mul_sum, shg_sum );\n  context.putImageData( imageData, top_x, top_y );\n}\n\n\nfunction stackBlurImageDataRGBA( imageData, radius, mul_sum, shg_sum )\n{\n  // if ( isNaN(radius) || radius < 1 ) return;\n  // radius |= 0;\n      \n  var pixels = imageData.data,\n      width  = imageData.width,\n      height = imageData.height;\n      \n  var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, \n      r_out_sum, g_out_sum, b_out_sum, a_out_sum,\n      r_in_sum, g_in_sum, b_in_sum, a_in_sum, \n      pr, pg, pb, pa, rbs;\n      \n  var div \t\t\t\t = radius + radius + 1,\n      w4  \t\t\t\t = width << 2,\n      widthMinus1  = width - 1,\n      heightMinus1 = height - 1,\n      radiusPlus1  = radius + 1,\n      sumFactor    = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  \n  var stackStart = new BlurStack();\n  var stackEnd;\n  var stack = stackStart;\n  for ( i = 1; i < div; i++ )\n  {\n    stack = stack.next = new BlurStack();\n    if ( i == radiusPlus1 ) stackEnd = stack;\n  }\n  stack.next = stackStart;\n  var stackIn = null;\n  var stackOut = null;\n  \n  yw = yi = 0;\n  \n  // var mul_sum = mul_table[radius];\n  // var shg_sum = shg_table[radius];\n  \n  for ( y = 0; y < height; y++ )\n  {\n    r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n    \n    r_out_sum = radiusPlus1 * ( pr = pixels[yi] );\n    g_out_sum = radiusPlus1 * ( pg = pixels[yi+1] );\n    b_out_sum = radiusPlus1 * ( pb = pixels[yi+2] );\n    a_out_sum = radiusPlus1 * ( pa = pixels[yi+3] );\n    \n    r_sum += sumFactor * pr;\n    g_sum += sumFactor * pg;\n    b_sum += sumFactor * pb;\n    a_sum += sumFactor * pa;\n    \n    stack = stackStart;\n    \n    for( i = 0; i < radiusPlus1; i++ )\n    {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n    \n    for( i = 1; i < radiusPlus1; i++ )\n    {\n      p = yi + (( widthMinus1 < i ? widthMinus1 : i ) << 2 );\n      r_sum += ( stack.r = ( pr = pixels[p])) * ( rbs = radiusPlus1 - i );\n      g_sum += ( stack.g = ( pg = pixels[p+1])) * rbs;\n      b_sum += ( stack.b = ( pb = pixels[p+2])) * rbs;\n      a_sum += ( stack.a = ( pa = pixels[p+3])) * rbs;\n      \n      r_in_sum += pr;\n      g_in_sum += pg;\n      b_in_sum += pb;\n      a_in_sum += pa;\n      \n      stack = stack.next;\n    }\n    \n    \n    stackIn = stackStart;\n    stackOut = stackEnd;\n    for ( x = 0; x < width; x++ )\n    {\n      pixels[yi]   = (r_sum * mul_sum) >> shg_sum;\n      pixels[yi+1] = (g_sum * mul_sum) >> shg_sum;\n      pixels[yi+2] = (b_sum * mul_sum) >> shg_sum;\n      pixels[yi+3] = (a_sum * mul_sum) >> shg_sum;\n      \n      r_sum -= r_out_sum;\n      g_sum -= g_out_sum;\n      b_sum -= b_out_sum;\n      a_sum -= a_out_sum;\n      \n      r_out_sum -= stackIn.r;\n      g_out_sum -= stackIn.g;\n      b_out_sum -= stackIn.b;\n      a_out_sum -= stackIn.a;\n      \n      p =  ( yw + ( ( p = x + radius + 1 ) < widthMinus1 ? p : widthMinus1 ) ) << 2;\n      \n      r_in_sum += ( stackIn.r = pixels[p]);\n      g_in_sum += ( stackIn.g = pixels[p+1]);\n      b_in_sum += ( stackIn.b = pixels[p+2]);\n      a_in_sum += ( stackIn.a = pixels[p+3]);\n      \n      r_sum += r_in_sum;\n      g_sum += g_in_sum;\n      b_sum += b_in_sum;\n      a_sum += a_in_sum;\n      \n      stackIn = stackIn.next;\n      \n      r_out_sum += ( pr = stackOut.r );\n      g_out_sum += ( pg = stackOut.g );\n      b_out_sum += ( pb = stackOut.b );\n      a_out_sum += ( pa = stackOut.a );\n      \n      r_in_sum -= pr;\n      g_in_sum -= pg;\n      b_in_sum -= pb;\n      a_in_sum -= pa;\n      \n      stackOut = stackOut.next;\n\n      yi += 4;\n    }\n    yw += width;\n  }\n\n  \n  for ( x = 0; x < width; x++ )\n  {\n    g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n    \n    yi = x << 2;\n    r_out_sum = radiusPlus1 * ( pr = pixels[yi]);\n    g_out_sum = radiusPlus1 * ( pg = pixels[yi+1]);\n    b_out_sum = radiusPlus1 * ( pb = pixels[yi+2]);\n    a_out_sum = radiusPlus1 * ( pa = pixels[yi+3]);\n    \n    r_sum += sumFactor * pr;\n    g_sum += sumFactor * pg;\n    b_sum += sumFactor * pb;\n    a_sum += sumFactor * pa;\n    \n    stack = stackStart;\n    \n    for( i = 0; i < radiusPlus1; i++ )\n    {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n    \n    yp = width;\n    \n    for( i = 1; i <= radius; i++ )\n    {\n      yi = ( yp + x ) << 2;\n      \n      r_sum += ( stack.r = ( pr = pixels[yi])) * ( rbs = radiusPlus1 - i );\n      g_sum += ( stack.g = ( pg = pixels[yi+1])) * rbs;\n      b_sum += ( stack.b = ( pb = pixels[yi+2])) * rbs;\n      a_sum += ( stack.a = ( pa = pixels[yi+3])) * rbs;\n        \n      r_in_sum += pr;\n      g_in_sum += pg;\n      b_in_sum += pb;\n      a_in_sum += pa;\n      \n      stack = stack.next;\n    \n      if( i < heightMinus1 )\n      {\n        yp += width;\n      }\n    }\n    \n    yi = x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n    for ( y = 0; y < height; y++ )\n    {\n      p = yi << 2;\n      pixels[p+3] = pa = (a_sum * mul_sum) >> shg_sum;\n      if ( pa > 0 )\n      {\n        pa = 255 / pa;\n        pixels[p]   = ((r_sum * mul_sum) >> shg_sum ) * pa;\n        pixels[p+1] = ((g_sum * mul_sum) >> shg_sum ) * pa;\n        pixels[p+2] = ((b_sum * mul_sum) >> shg_sum ) * pa;\n      } else {\n        pixels[p] = pixels[p+1] = pixels[p+2] = 0;\n      }\n      \n      r_sum -= r_out_sum;\n      g_sum -= g_out_sum;\n      b_sum -= b_out_sum;\n      a_sum -= a_out_sum;\n        \n      r_out_sum -= stackIn.r;\n      g_out_sum -= stackIn.g;\n      b_out_sum -= stackIn.b;\n      a_out_sum -= stackIn.a;\n      \n      p = ( x + (( ( p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1 ) * width )) << 2;\n      \n      r_sum += ( r_in_sum += ( stackIn.r = pixels[p]));\n      g_sum += ( g_in_sum += ( stackIn.g = pixels[p+1]));\n      b_sum += ( b_in_sum += ( stackIn.b = pixels[p+2]));\n      a_sum += ( a_in_sum += ( stackIn.a = pixels[p+3]));\n        \n      stackIn = stackIn.next;\n      \n      r_out_sum += ( pr = stackOut.r );\n      g_out_sum += ( pg = stackOut.g );\n      b_out_sum += ( pb = stackOut.b );\n      a_out_sum += ( pa = stackOut.a );\n      \n      r_in_sum -= pr;\n      g_in_sum -= pg;\n      b_in_sum -= pb;\n      a_in_sum -= pa;\n      \n      stackOut = stackOut.next;\n      \n      yi += width;\n    }\n  }\n  \n  return imageData;\n  \n}\n\n\nfunction stackBlurCanvasRGB( canvas, top_x, top_y, width, height, radius, mul_sum, shg_sum )\n{\n  // if ( isNaN(radius) || radius < 1 ) return;\n  // radius |= 0;\n  \n  //var canvas    = stackBlurGetElement( canvasIDOrElement );\n  var context   = canvas.getContext(\"2d\");\n  var imageData = context.getImageData( top_x, top_y, width, height );\n  \n  // try {\n  //   try {\n  // \timageData = context.getImageData( top_x, top_y, width, height );\n  //   } catch(e) {\n    \n  // \t// NOTE: this part is supposedly only needed if you want to work with local files\n  // \t// so it might be okay to remove the whole try/catch block and just use\n  // \t// imageData = context.getImageData( top_x, top_y, width, height );\n  // \ttry {\n  // \t\tnetscape.security.PrivilegeManager.enablePrivilege(\"UniversalBrowserRead\");\n  // \t\timageData = context.getImageData( top_x, top_y, width, height );\n  // \t} catch(e) {\n  // \t\talert(\"Cannot access local image\");\n  // \t\tthrow new Error(\"unable to access local image data: \" + e);\n  // \t\treturn;\n  // \t}\n  //   }\n  // } catch(e) {\n  //   alert(\"Cannot access image\");\n  //   throw new Error(\"unable to access image data: \" + e);\n  // }\n      \n  var pixels = imageData.data;\n      \n  var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum,\n  r_out_sum, g_out_sum, b_out_sum,\n  r_in_sum, g_in_sum, b_in_sum,\n  pr, pg, pb, rbs;\n      \n  var div = radius + radius + 1;\n  var w4 = width << 2;\n  var widthMinus1  = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1  = radius + 1;\n  var sumFactor = radiusPlus1 * ( radiusPlus1 + 1 ) / 2;\n  \n  var stackStart = new BlurStack();\n  var stackEnd;\n  var stack = stackStart;\n  for ( i = 1; i < div; i++ )\n  {\n    stack = stack.next = new BlurStack();\n    if ( i == radiusPlus1 ) stackEnd = stack;\n  }\n  stack.next = stackStart;\n  var stackIn = null;\n  var stackOut = null;\n  \n  yw = yi = 0;\n  \n  // var mul_sum = mul_table[radius];\n  // var shg_sum = shg_table[radius];\n  \n  for ( y = 0; y < height; y++ )\n  {\n    r_in_sum = g_in_sum = b_in_sum = r_sum = g_sum = b_sum = 0;\n    \n    r_out_sum = radiusPlus1 * ( pr = pixels[yi] );\n    g_out_sum = radiusPlus1 * ( pg = pixels[yi+1] );\n    b_out_sum = radiusPlus1 * ( pb = pixels[yi+2] );\n    \n    r_sum += sumFactor * pr;\n    g_sum += sumFactor * pg;\n    b_sum += sumFactor * pb;\n    \n    stack = stackStart;\n    \n    for( i = 0; i < radiusPlus1; i++ )\n    {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack = stack.next;\n    }\n    \n    for( i = 1; i < radiusPlus1; i++ )\n    {\n      p = yi + (( widthMinus1 < i ? widthMinus1 : i ) << 2 );\n      r_sum += ( stack.r = ( pr = pixels[p])) * ( rbs = radiusPlus1 - i );\n      g_sum += ( stack.g = ( pg = pixels[p+1])) * rbs;\n      b_sum += ( stack.b = ( pb = pixels[p+2])) * rbs;\n      \n      r_in_sum += pr;\n      g_in_sum += pg;\n      b_in_sum += pb;\n      \n      stack = stack.next;\n    }\n    \n    \n    stackIn = stackStart;\n    stackOut = stackEnd;\n    for ( x = 0; x < width; x++ )\n    {\n      pixels[yi]   = (r_sum * mul_sum) >> shg_sum;\n      pixels[yi+1] = (g_sum * mul_sum) >> shg_sum;\n      pixels[yi+2] = (b_sum * mul_sum) >> shg_sum;\n      \n      r_sum -= r_out_sum;\n      g_sum -= g_out_sum;\n      b_sum -= b_out_sum;\n      \n      r_out_sum -= stackIn.r;\n      g_out_sum -= stackIn.g;\n      b_out_sum -= stackIn.b;\n      \n      p =  ( yw + ( ( p = x + radius + 1 ) < widthMinus1 ? p : widthMinus1 ) ) << 2;\n      \n      r_in_sum += ( stackIn.r = pixels[p]);\n      g_in_sum += ( stackIn.g = pixels[p+1]);\n      b_in_sum += ( stackIn.b = pixels[p+2]);\n      \n      r_sum += r_in_sum;\n      g_sum += g_in_sum;\n      b_sum += b_in_sum;\n      \n      stackIn = stackIn.next;\n      \n      r_out_sum += ( pr = stackOut.r );\n      g_out_sum += ( pg = stackOut.g );\n      b_out_sum += ( pb = stackOut.b );\n      \n      r_in_sum -= pr;\n      g_in_sum -= pg;\n      b_in_sum -= pb;\n      \n      stackOut = stackOut.next;\n\n      yi += 4;\n    }\n    yw += width;\n  }\n\n  \n  for ( x = 0; x < width; x++ )\n  {\n    g_in_sum = b_in_sum = r_in_sum = g_sum = b_sum = r_sum = 0;\n    \n    yi = x << 2;\n    r_out_sum = radiusPlus1 * ( pr = pixels[yi]);\n    g_out_sum = radiusPlus1 * ( pg = pixels[yi+1]);\n    b_out_sum = radiusPlus1 * ( pb = pixels[yi+2]);\n    \n    r_sum += sumFactor * pr;\n    g_sum += sumFactor * pg;\n    b_sum += sumFactor * pb;\n    \n    stack = stackStart;\n    \n    for( i = 0; i < radiusPlus1; i++ )\n    {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack = stack.next;\n    }\n    \n    yp = width;\n    \n    for( i = 1; i <= radius; i++ )\n    {\n      yi = ( yp + x ) << 2;\n      \n      r_sum += ( stack.r = ( pr = pixels[yi])) * ( rbs = radiusPlus1 - i );\n      g_sum += ( stack.g = ( pg = pixels[yi+1])) * rbs;\n      b_sum += ( stack.b = ( pb = pixels[yi+2])) * rbs;\n      \n      r_in_sum += pr;\n      g_in_sum += pg;\n      b_in_sum += pb;\n      \n      stack = stack.next;\n    \n      if( i < heightMinus1 )\n      {\n        yp += width;\n      }\n    }\n    \n    yi = x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n    for ( y = 0; y < height; y++ )\n    {\n      p = yi << 2;\n      pixels[p]   = (r_sum * mul_sum) >> shg_sum;\n      pixels[p+1] = (g_sum * mul_sum) >> shg_sum;\n      pixels[p+2] = (b_sum * mul_sum) >> shg_sum;\n      \n      r_sum -= r_out_sum;\n      g_sum -= g_out_sum;\n      b_sum -= b_out_sum;\n      \n      r_out_sum -= stackIn.r;\n      g_out_sum -= stackIn.g;\n      b_out_sum -= stackIn.b;\n      \n      p = ( x + (( ( p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1 ) * width )) << 2;\n      \n      r_sum += ( r_in_sum += ( stackIn.r = pixels[p]));\n      g_sum += ( g_in_sum += ( stackIn.g = pixels[p+1]));\n      b_sum += ( b_in_sum += ( stackIn.b = pixels[p+2]));\n      \n      stackIn = stackIn.next;\n      \n      r_out_sum += ( pr = stackOut.r );\n      g_out_sum += ( pg = stackOut.g );\n      b_out_sum += ( pb = stackOut.b );\n      \n      r_in_sum -= pr;\n      g_in_sum -= pg;\n      b_in_sum -= pb;\n      \n      stackOut = stackOut.next;\n      \n      yi += width;\n    }\n  }\n  \n  context.putImageData( imageData, top_x, top_y );\n  \n}\n\nfunction BlurStack()\n{\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n  this.a = 0;\n  this.next = null;\n}\n\n/* eslint-enable */\n\nexport default {\n  rgba: stackBlurCanvasRGBA,\n  rgb:  stackBlurCanvasRGB,\n};\n\n\n// WEBPACK FOOTER //\n// ./assets/js/src/utils/stackBlurCanvas.js"],"sourceRoot":""}